{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Star.js"],"names":["cc","Class","extends","Component","properties","xSpeed","ySpeed","width","height","timeer","time","guans","isTouch","listener","default","game","onLoad","self","cd","Calculate","event","EventListener","TOUCH_ONE_BY_ONE","onTouchBegan","touch","node","y","x","onTouchMoved","onTouchEnded","eventManager","addListener","init","start","update","dt","finalWidth","alert","spawnNewStar"],"mappings":"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","file":"Star.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n\textends: cc.Component,\r\n    properties: {\r\n\t\txSpeed:0,//X轴速度\r\n\t\tySpeed:-20,//Y轴速度\r\n\t\twidth:300, //初始化飞碟宽度\r\n\t\theight:76, //初始化飞碟高度\r\n\t\ttimeer:0,//变换时间\r\n\t\ttime:0,//变换次数\r\n\t\tguans:1,//关数\r\n\t\tisTouch:false,//是否点击\r\n\t\tlistener:{ //监听\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\tgame: { //关联游戏js文件\r\n\t\t\tdefault: null\r\n\t\t}\r\n    },\r\n    onLoad () {\r\n     var self=this;\t\r\n\t var cd=0;\r\n\t      if(self.game.Calculate!=1){\r\n               cd=-237+(self.game.Calculate-1)*48;\r\n          }else{\r\n               cd=-237;\r\n\t\t  }\r\n\t this.listener = { \r\n            event:cc.EventListener.TOUCH_ONE_BY_ONE,\r\n            onTouchBegan:function(touch,event){\r\n\t\t\t\t   // var target = event.getCurrentTarget();\r\n                   // var locationInNode = target.convertToNodeSpace(touch.getLocation());\r\n                    //var size = target.getContentSize();\r\n                    //var rect = cc.rect(2, 0, size.width, size.height); \r\n\t\t\t\t\t//if (!cc.rectContainsPoint(rect, locationInNode))\r\n                    if (self.node.y < cd) {\r\n                        return false;\r\n                    }else{\r\n\t\t\t\t\t\t  self.node.x=2;\r\n                          if(self.game.Calculate!=1){\r\n                               self.node.y=-237+(self.game.Calculate-1)*46;\r\n                          }else{\r\n                               self.node.y=-237;\r\n\t\t\t\t          }\r\n                         return true;\r\n\t\t\t\t\t}\r\n            },\r\n            onTouchMoved:function(touch,event){\r\n                \r\n            },\r\n            onTouchEnded:function(touch,event){\r\n           }\r\n        } \r\n\t\tcc.eventManager.addListener(self.listener, self.node);\r\n\t},\r\n\tinit(game) {\r\n\t\tthis.game = game\r\n\t},\r\n    start () {\r\n\r\n\t},\r\n     update (dt) {\r\n\t\tif(this.node.y<220){\r\n            this.ySpeed=-50\r\n        }\r\n        if(this.node.y<100){\r\n            this.ySpeed=-200\r\n        }\r\n\t\tvar cd=-237;\r\n        if(this.game.Calculate!=1){\r\n           cd=-237+(this.game.Calculate-1)*46;\r\n        }\r\n        if(this.node.y >=cd){\r\n           this.timeer=this.timeer+dt;\r\n           if(this.timeer > 0.5/this.guans){\r\n               this.timeer=0;\r\n               if(this.time>8){\r\n                this.time=0;\r\n               }\r\n              this.time=this.time+1\r\n              this.node.width=this.width-20*this.time\r\n              this.node.height=this.height-3*this.time\r\n           }\r\n           this.node.x += this.xSpeed*dt\r\n\t\t   this.node.y += this.ySpeed*dt  \r\n\t\t}else{\r\n\t\t\tif(this.isTouch==false && this.game.Calculate<=6){\r\n\t\t\t\t this.isTouch=true;\t\r\n\t\t         if(this.game.finalWidth!=0 && this.node.width>this.game.finalWidth){\r\n\t\t\t     alert(\"对不起,你挂了\");\r\n\t\t\t     }else{\r\n\t\t\t\t\tif(this.game.Calculate !=6){\r\n\t\t\t\t\t\tthis.game.spawnNewStar(); \r\n\t\t\t\t\t}\r\n\t\t\t\t }\t\r\n                 this.game.finalWidth=this.node.width;\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t },\r\n});\r\n"]}