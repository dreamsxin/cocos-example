{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "APPID",
    "SERVER",
    "location",
    "host",
    "includes",
    "Base",
    "getCookie",
    "key",
    "toString",
    "length",
    "str",
    "document",
    "cookie",
    "start",
    "indexOf",
    "end",
    "window",
    "unescape",
    "slice",
    "getParam",
    "search",
    "Api",
    "authorize",
    "params",
    "appid",
    "redirect_uri",
    "response_type",
    "scope",
    "state",
    "href",
    "querystring",
    "Object",
    "keys",
    "map",
    "join",
    "login",
    "code",
    "axios",
    "get",
    "getUserInfo",
    "getModelList",
    "getPrizeList",
    "id",
    "gameModelId",
    "grab",
    "goodsId",
    "matchId",
    "prizeId",
    "grabHistory",
    "page",
    "pageSize",
    "goodsList",
    "purchase",
    "callBackUrl",
    "cancelUrl",
    "console",
    "log",
    "goldId",
    "origin",
    "pathname",
    "getCaptcha",
    "phone",
    "phoneNumber",
    "bindPhone",
    "monitor",
    "event",
    "eventType",
    "eventTypeTab",
    "onEvent",
    "TDAPP",
    "broadcast",
    "prototype"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "/*\r\n* 常量\r\n*/\r\n\r\nconst\r\n    APPID = 'wxa95eee48a3ac58c6',\r\n    SERVER = location.host.includes('lab') ? '//lab.yoosh.tv' :\r\n        location.host.includes('localhost') ? '//lab.yoosh.tv' : '//doll.yoosh.tv'\r\n\r\nconst Base = {\r\n    getCookie(key) {\r\n        key = key.toString()\r\n        if (!key.length) return\r\n\r\n        const str = document.cookie\r\n        let\r\n            start = str.indexOf(`${key}=`),\r\n            end\r\n        if (start === -1) return ''\r\n        start += key.length + 1\r\n        end = str.indexOf(';', start)\r\n        end === -1 ? end = str.length : null\r\n        return window.unescape(str.slice(start, end))\r\n    },\r\n\r\n    getParam(key) {\r\n        var\r\n            str = location.search,\r\n            start = str.indexOf(key),\r\n            end\r\n\r\n        if (start === -1) return ''\r\n        start += key.length + 1\r\n        end = str.indexOf('&', start)\r\n        end === -1 ? end = str.length : null\r\n        return str.slice(start, end)\r\n    }\r\n}\r\n\r\nfunction Api() {\r\n\r\n    this.authorize = function() {\r\n        const params = {\r\n            appid: APPID,\r\n            redirect_uri: 'https://game.yoosh.tv/login.html',\r\n            response_type: 'code',\r\n            scope: 'snsapi_base',\r\n            state: location.href\r\n        }\r\n\r\n        const querystring = Object.keys(params).map(key => {\r\n            return `${key}=${params[key]}`\r\n        }).join('&')\r\n\r\n        location.href = `https://open.weixin.qq.com/connect/oauth2/authorize?${querystring}`\r\n    }\r\n\r\n    this.login = function(code) {\r\n        return axios.get(`${SERVER}/user/login`, {\r\n            params: {\r\n                code: code\r\n            }\r\n        })\r\n    }\r\n\r\n    this.getUserInfo = function() {\r\n        return axios.get(`${SERVER}/user/getUserInfo`)\r\n    }\r\n\r\n    this.getModelList = function() {\r\n        return axios.get(`${SERVER}/doll/modelList`)\r\n    }\r\n\r\n    this.getPrizeList = function(id) {\r\n        return axios.get(`${SERVER}/doll/prizeList`, {\r\n            params: {gameModelId: id}\r\n        })\r\n    }\r\n\r\n    this.grab = function(goodsId, matchId) {\r\n        return axios.get(`${SERVER}/doll/grab`, {\r\n            params: {\r\n                gameModelId: matchId,\r\n                prizeId: goodsId\r\n            }\r\n        })\r\n    }\r\n\r\n    this.grabHistory = function(page=1, pageSize=10) {\r\n        return axios.get(`${SERVER}/doll/grabHistory`, {\r\n            params: {\r\n                page,\r\n                pageSize\r\n            }\r\n        })\r\n    }\r\n\r\n    this.goodsList = function() {\r\n        return axios.get(`${SERVER}/mall/salesGold`)\r\n    }\r\n\r\n    this.purchase = function(id, callBackUrl, cancelUrl) {\r\n        console.log(id, callBackUrl, cancelUrl)\r\n        return axios.get(`${SERVER}/mall/buyGold`, {\r\n            params: {\r\n                goldId: id,\r\n                callBackUrl: callBackUrl || `${location.origin}${location.pathname}`,\r\n                cancelUrl: cancelUrl || `${location.origin}${location.pathname}`\r\n            }\r\n        })\r\n    }\r\n\r\n    this.getCaptcha = function(phone) {\r\n        return axios.get(`${SERVER}/user/getCodeByPhone`, {\r\n            params: {\r\n                phoneNumber: phone\r\n            }\r\n        })\r\n    }\r\n\r\n    this.bindPhone = function(phone, code) {\r\n        return axios.get(`${SERVER}/user/bindPhoneByCode`, {\r\n            params: {\r\n                phoneNumber: phone,\r\n                code: code\r\n            }\r\n        })\r\n    }\r\n\r\n    this.monitor = function(event, eventType, eventTypeTab=0) {\r\n        axios.get(`${SERVER}/event/monitor`, {\r\n            params: {\r\n                event,\r\n                eventType,\r\n                eventTypeTab\r\n            }\r\n        })\r\n    }\r\n\r\n    this.onEvent = function(...args) {\r\n        if (window.TDAPP) {\r\n            window.TDAPP.onEvent(...args)\r\n        }\r\n    }\r\n\r\n    this.broadcast = function() {\r\n        return axios.get(`${SERVER}/doll/awardInfo`)\r\n    }\r\n\r\n}\r\n\r\nApi.prototype = Base\r\n\r\nexport default new Api()\r\n\r\n\r\n"
  ]
}