{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "left",
    "default",
    "type",
    "Node",
    "right",
    "rope",
    "body",
    "onLoad",
    "init",
    "setModel",
    "i",
    "getComponent",
    "Sprite",
    "spriteFrame",
    "main",
    "spriteFrames",
    "clawRopeGold",
    "clawBodyGold",
    "clawLeftGold",
    "clawRightGold",
    "clawRopeNormal",
    "clawBodyNormal",
    "clawLeftNormal",
    "clawRightNormal",
    "director",
    "getScene",
    "getChildByName",
    "actions",
    "rotate",
    "rotateBy",
    "move",
    "moveBy",
    "up",
    "scale",
    "scaleBy",
    "flop",
    "spawn",
    "repeatForever",
    "state",
    "y",
    "ropeHeight",
    "catched",
    "gift",
    "catchAnimated",
    "wait",
    "results",
    "pause",
    "grab",
    "func",
    "runAction",
    "reverse",
    "sequence",
    "callFunc",
    "free",
    "fall",
    "node",
    "rise",
    "bind",
    "window",
    "_main",
    "api",
    "monitor",
    "over",
    "zIndex",
    "lose",
    "grabResultInt",
    "game",
    "showResult",
    "win",
    "goods",
    "prompt",
    "show",
    "img",
    "matchId",
    "then",
    "res",
    "data",
    "r",
    "starsGoods",
    "starPrompt",
    "name",
    "user",
    "starsNum",
    "localStorage",
    "getStar",
    "active",
    "ok",
    "update",
    "catch",
    "random",
    "Math",
    "putItem",
    "stopAllActions",
    "catchAnimate",
    "audio",
    "play",
    "_goodsId",
    "height",
    "x"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "export default cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        left: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        right: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        rope: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        body: {\r\n            default: null,\r\n            type: cc.Node\r\n        }\r\n    },\r\n\r\n    onLoad() {\r\n        this.init()\r\n    },\r\n\r\n    setModel(i) {\r\n        if (i === 3) {\r\n            this.rope.getComponent(cc.Sprite).spriteFrame = this.main.spriteFrames.clawRopeGold\r\n            this.body.getComponent(cc.Sprite).spriteFrame = this.main.spriteFrames.clawBodyGold\r\n            this.left.getComponent(cc.Sprite).spriteFrame = this.main.spriteFrames.clawLeftGold\r\n            this.right.getComponent(cc.Sprite).spriteFrame = this.main.spriteFrames.clawRightGold\r\n        } else {\r\n            this.rope.getComponent(cc.Sprite).spriteFrame = this.main.spriteFrames.clawRopeNormal\r\n            this.body.getComponent(cc.Sprite).spriteFrame = this.main.spriteFrames.clawBodyNormal\r\n            this.left.getComponent(cc.Sprite).spriteFrame = this.main.spriteFrames.clawLeftNormal\r\n            this.right.getComponent(cc.Sprite).spriteFrame = this.main.spriteFrames.clawRightNormal\r\n        }\r\n    },\r\n\r\n    init() {\r\n        /*\r\n        * 初始化时\r\n        * 获取 main 组件\r\n        */\r\n        this.main = cc.director.getScene()\r\n            .getChildByName('main').getComponent('main')\r\n\r\n        // 定义动作\r\n        this.actions = {\r\n            rotate: cc.rotateBy(.1, 56),\r\n            move: cc.moveBy(.3, 0, -440),\r\n            up: cc.moveBy(.6, 0, 440),\r\n            scale: cc.scaleBy(.3, .5),\r\n            flop: cc.spawn(\r\n                cc.rotateBy(.8, 360).repeatForever(),\r\n                cc.moveBy(.8, 0, -500),\r\n                cc.scaleBy(.8, 1.5)\r\n            )\r\n        }\r\n\r\n        // 爪子状态\r\n        this.state = 'free'\r\n\r\n        // 爪子初始高度\r\n        this.y = 377\r\n\r\n        // 绳子初始长度\r\n        this.ropeHeight = 120\r\n\r\n        // 是否抓住\r\n        this.catched = false\r\n\r\n        // 抓取的 gift\r\n        this.gift = null\r\n\r\n        // 抓取动画\r\n        this.catchAnimated = false\r\n\r\n        // 接口请求状态\r\n        this.wait = false\r\n\r\n        // 抓取结果\r\n        this.results = null\r\n\r\n        // 等待接口而中止释放操作\r\n        this.pause = false\r\n    },\r\n\r\n    grab(func) {\r\n        if (this.state !== 'fall') return\r\n        this.state = 'grab'\r\n        this.left.runAction(this.actions.rotate.reverse())\r\n        this.right.runAction(cc.sequence(\r\n            this.actions.rotate,\r\n            cc.callFunc(func)\r\n        ))\r\n\r\n    },\r\n\r\n    free() {\r\n        if (this.state !== 'rise') return\r\n        this.state = 'free'\r\n        this.left.runAction(this.actions.rotate)\r\n        this.right.runAction(this.actions.rotate.reverse())\r\n        this.catched =\r\n        this.catchAnimated = false\r\n    },\r\n\r\n    fall() {\r\n        if (this.state !== 'free') return\r\n        this.state = 'fall'\r\n        this.node.runAction(cc.sequence(\r\n            this.actions.move,\r\n            cc.callFunc(() => {\r\n                this.grab(this.rise.bind(this))\r\n            })\r\n        ))\r\n        window._main.api.monitor('开始按钮', 6)\r\n    },\r\n\r\n    over() {\r\n        // 重置 pause\r\n        this.pause = false\r\n        if (this.catched) {\r\n            if (!this.results) {\r\n                this.gift.zIndex = 0\r\n                this.lose()\r\n            } else {\r\n                // 重置 gift zIndex < pit-around\r\n                if (this.results.grabResultInt === 2) {\r\n                    this.gift.zIndex = 0\r\n                    this.lose()\r\n                    this.main.game.showResult(this.results)\r\n                } else if (this.results.grabResultInt === 3) {\r\n                    this.win()\r\n                    if (this.results.goods.type === 0) {\r\n                        this.main.game.showResult(this.results)\r\n                    } else {\r\n                        // 抓到实物的效果\r\n                        this.main.game.prompt.show(this.results.goods.img)\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            this.free()\r\n            /*\r\n            * 请求抓取处理接口\r\n            */\r\n            this.wait = true\r\n            this.main.api.grab(null, this.main.game.matchId)\r\n            .then(res => {\r\n                this.wait = false\r\n                if (res.data.r.starsGoods) {\r\n                    this.main.game.starPrompt.show(\r\n                        res.data.r.starsGoods.img,\r\n                        res.data.r.starsGoods.name\r\n                    )\r\n                }\r\n                if (window._main.user.starsNum && !localStorage.getStar) {\r\n                    window._main.node.getChildByName('guide').active = true\r\n                    localStorage.getStar = true\r\n                }\r\n                if (res.data.ok) this.results = res.data.r\r\n                else this.results = null\r\n                this.main.user.update()\r\n                // 5星奖励\r\n                \r\n                \r\n            }).catch(err => {\r\n                this.wait = false\r\n                this.results = null\r\n                this.main.user.update()\r\n            })\r\n        }\r\n\r\n    },\r\n\r\n    rise() {\r\n        if (this.state !== 'grab') return\r\n        this.state = 'rise'\r\n        this.node.runAction(cc.sequence(\r\n            this.actions.up,\r\n            cc.callFunc(() => {\r\n                if (this.wait) {\r\n                    this.pause = true\r\n                } else this.over()\r\n            })\r\n        ))\r\n    },\r\n\r\n    random() {\r\n        return ~~(Math.random() * 10)\r\n    },\r\n\r\n    win() {\r\n        this.main.gift.putItem(this.gift)\r\n        this.free()\r\n    },\r\n\r\n    lose() {\r\n        /*\r\n        * 掉落\r\n        */\r\n        this.free()\r\n        // 此时要重置 state 为非 free 状态\r\n        this.state = 'rise'\r\n        // 清除 gift action\r\n        this.gift.stopAllActions()\r\n        this.gift.runAction(cc.sequence(\r\n            this.actions.flop,\r\n            cc.callFunc(() => {\r\n                this.main.gift.putItem(this.gift)\r\n                this.state = 'free'\r\n            })\r\n        ))\r\n    },\r\n\r\n    catchAnimate() {\r\n        if (this.catchAnimated) return\r\n        this.catchAnimated = true\r\n        this.gift.stopAllActions()\r\n        this.gift.runAction(this.actions.scale)\r\n        this.main.audio.catched.play()\r\n\r\n        /*\r\n        * 请求抓取处理接口\r\n        */\r\n        this.wait = true\r\n        this.main.api.grab(this.gift._goodsId, this.main.game.matchId)\r\n        .then(res => {\r\n            this.wait = false\r\n            if (res.data.ok) this.results = res.data.r\r\n            else this.results = null\r\n            this.main.user.update()\r\n            if (this.pause) this.over()\r\n        }).catch(err => {\r\n            this.wait = false\r\n            this.results = null\r\n            this.main.user.update()\r\n            if (this.pause) this.over()\r\n        })\r\n    },\r\n\r\n    update() {\r\n        // console.log(\r\n            // this.node.convertToWorldSpace(0, 0)\r\n        // )\r\n        this.rope.height = this.ropeHeight + this.y - this.node.y\r\n\r\n        if (this.catched) {\r\n            this.catchAnimate()\r\n            this.gift.x = this.node.x\r\n            this.gift.y = this.node.y - 100\r\n        }\r\n    }\r\n\r\n})\r\n"
  ]
}