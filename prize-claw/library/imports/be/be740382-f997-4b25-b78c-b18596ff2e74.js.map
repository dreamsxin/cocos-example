{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "startBtn",
    "default",
    "type",
    "Node",
    "border",
    "pitAround",
    "stakeLayout",
    "stakeBtns",
    "ruleBtn",
    "addBtn",
    "giftBtn",
    "claw",
    "rule",
    "prompt",
    "stake",
    "result",
    "score",
    "scoreBkg",
    "voice",
    "activityBox",
    "starBox",
    "qMark",
    "starResultTip",
    "starPrompt",
    "broadcast",
    "onLoad",
    "init",
    "listen",
    "window",
    "_main",
    "api",
    "monitor",
    "onEvent",
    "getBroadcast",
    "setInterval",
    "template",
    "then",
    "res",
    "data",
    "ok",
    "r",
    "length",
    "messages",
    "messageIndex",
    "parent",
    "opacity",
    "active",
    "broadcastAnimate",
    "children",
    "forEach",
    "child",
    "i",
    "label",
    "getComponent",
    "RichText",
    "string",
    "replace",
    "x",
    "y",
    "phone",
    "name",
    "goodsName",
    "_this",
    "tid",
    "clearInterval",
    "runAction",
    "sequence",
    "moveBy",
    "callFunc",
    "setTimeout",
    "audio",
    "bgm",
    "play",
    "isPlaying",
    "Sprite",
    "spriteFrame",
    "spriteFrames",
    "voiceOn",
    "voiceClose",
    "zIndex",
    "matchId",
    "record",
    "node",
    "stakeValue",
    "getPrizeList",
    "setMatch",
    "index",
    "id",
    "btn",
    "stakeBtnPress",
    "text",
    "getChildByName",
    "stopAllActions",
    "jumpTo",
    "setStake",
    "val",
    "matchM",
    "matchL",
    "matchS",
    "getModelList",
    "item",
    "Label",
    "_matchId",
    "_openState",
    "openState",
    "_value",
    "goldExpend",
    "stakeBtnDisable",
    "gift",
    "build",
    "showResult",
    "results",
    "grabResultInt",
    "loader",
    "getRes",
    "SpriteFrame",
    "getStars",
    "grabResultStr",
    "jumpBy",
    "starsGoods",
    "show",
    "img",
    "user",
    "starsNum",
    "localStorage",
    "getStar",
    "update",
    "activityBoxShow",
    "updateStars",
    "star",
    "starYellow",
    "starGray",
    "on",
    "EventType",
    "TOUCH_START",
    "TOUCH_END",
    "resume",
    "pause",
    "clickStart",
    "startBtnPress",
    "startBtnNormal",
    "balance",
    "shop",
    "fall",
    "_index",
    "event",
    "stopPropagation",
    "stakeBtnNormal",
    "moveTo",
    "setModel",
    "scale"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "import Claw from 'claw'\r\nimport Rule from 'rule'\r\nimport Prompt from 'prompt'\r\nimport starPrompt from 'starPrompt'\r\n\r\nexport default cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        startBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        border: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        pitAround: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        stakeLayout: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        stakeBtns: {\r\n            default: [],\r\n            type: cc.Node\r\n        },\r\n        ruleBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        addBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        giftBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        claw: {\r\n            default: null,\r\n            type: Claw\r\n        },\r\n        rule: {\r\n            default: null,\r\n            type: Rule\r\n        },\r\n        prompt: {\r\n            default: null,\r\n            type: Prompt\r\n        },\r\n        stake: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        result: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        score: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        scoreBkg: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        voice: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        activityBox: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        starBox: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        qMark: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        starResultTip: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        starPrompt: {\r\n            default: null,\r\n            type: starPrompt\r\n        },\r\n        broadcast: {\r\n            default: null,\r\n            type: cc.Node\r\n        }\r\n    },\r\n    onLoad() {\r\n        this.init()\r\n        this.listen()\r\n        window._main.api.monitor('进入游戏', 1)\r\n        window._main.api.onEvent('进入游戏')\r\n\r\n        // 循环广播\r\n        this.getBroadcast()\r\n        setInterval(() => {\r\n            this.getBroadcast()\r\n        }, 3e4)\r\n    },\r\n\r\n    getBroadcast() {\r\n        const template = '<color=#ffffff>恭喜{}</color>\\n<color=#ffffff>获得</color><color=#ffe35b>{}</color>'\r\n        window._main.api.broadcast()\r\n        .then(res => {\r\n            if (res.data.ok && res.data.r.length) {\r\n                this.messages = res.data.r\r\n                this.messageIndex = 0\r\n                this.broadcast.parent.opacity = 255\r\n                if (!this.broadcast.parent.active) {\r\n                    this.broadcast.parent.active = true\r\n                    this.broadcastAnimate()\r\n                    this.broadcast.children.forEach((child, i) => {\r\n                        if (this.messages[this.messageIndex]) {\r\n                            const label = child.getComponent(cc.RichText)\r\n                            label.string = template.replace(/\\{\\}/g, (x, y) => {\r\n                                if (y === 17) {\r\n                                    return this.messages[this.messageIndex].phone ||\r\n                                        this.messages[this.messageIndex].name\r\n                                }\r\n                                if (y === 68) return this.messages[this.messageIndex].goodsName\r\n                            })\r\n                            this.messageIndex++\r\n                            i === 0 ? child.y = 0 : child.y = -100\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    },\r\n    // 广播循环动画\r\n    broadcastAnimate() {\r\n        const \r\n            _this = this,\r\n            template = '<color=#ffffff>恭喜{}</color>\\n<color=#ffffff>获得</color><color=#ffe35b>{}</color>'\r\n        const tid = setInterval(() => {\r\n            if (this.messages.length === 1) {\r\n                window.clearInterval(tid)\r\n                _this.broadcast.parent.active = false\r\n            }\r\n            this.broadcast.children.forEach(child => {\r\n                child.runAction(cc.sequence(\r\n                    cc.moveBy(.5, 0, 100),\r\n                    cc.callFunc(function() {\r\n                        if (this.y > 50) {\r\n                            if (_this.messageIndex === _this.messages.length) {\r\n                                setTimeout(function() {\r\n                                    _this.broadcast.parent.active = false\r\n                                    window.clearInterval(tid)\r\n                                }, 2000)\r\n                                return\r\n                            }\r\n                            this.y = -100\r\n                            const label = this.getComponent(cc.RichText)\r\n                            label.string = template.replace(/\\{\\}/g, function(x, y) {\r\n                                if (y === 17) {\r\n                                    return _this.messages[_this.messageIndex].phone ||\r\n                                        _this.messages[_this.messageIndex].name\r\n                                }\r\n                                if (y === 68) return _this.messages[_this.messageIndex].goodsName \r\n                            })\r\n                            _this.messageIndex++\r\n                        }\r\n                    }, child)\r\n                ))\r\n            })\r\n        }, 3e3)\r\n    },\r\n    init() {\r\n\r\n        window._main.audio.bgm.play()\r\n        //\r\n        this.bgm = window._main.audio.bgm.isPlaying\r\n\r\n        this.voice.getComponent(cc.Sprite).spriteFrame = this.bgm ? \r\n            window._main.spriteFrames.voiceOn : window._main.spriteFrames.voiceClose\r\n\r\n        // 坑下围 zIndex < gift.zIndex\r\n        this.pitAround.zIndex = 1\r\n\r\n        // 场次id\r\n        this.matchId = null\r\n\r\n\r\n\r\n        // 隐藏结果提示框\r\n        this.result.active = false\r\n\r\n        // 隐藏获奖记录\r\n        window._main.record.node.active = false\r\n\r\n        // 设置边框的 zIndex\r\n        this.border.zIndex = 3\r\n\r\n        // 按钮 zIndex\r\n        this.stakeLayout.zIndex =\r\n        this.startBtn.zIndex = 3\r\n\r\n        this.stake.zIndex = 3\r\n\r\n        // 设置音效按钮 zIndex\r\n        this.voice.zIndex = 3\r\n\r\n        // 下注值\r\n        this.stakeValue = null\r\n\r\n        // 获取场次\r\n        // this.getModelList()\r\n        this.matchId = 4\r\n\r\n        this.getPrizeList()\r\n\r\n    },\r\n\r\n    setMatch(index, id) {\r\n        const btn = this.stakeBtns[index]\r\n\r\n        btn.getComponent(cc.Sprite).spriteFrame =\r\n            window._main.spriteFrames.stakeBtnPress\r\n\r\n        const text = btn.getChildByName('text')\r\n        text.stopAllActions()\r\n        text.runAction(cc.jumpTo(1, 0, 9, 10, 3))\r\n\r\n        // 设置 当前下注值\r\n        this.setStake(index)\r\n\r\n        // 设置 当前场次 id\r\n        this.matchId = id\r\n\r\n        this.getPrizeList()\r\n\r\n    },\r\n\r\n    setStake(val) {\r\n        switch (val) {\r\n            case 1:\r\n                this.stake.getComponent(cc.Sprite).spriteFrame =\r\n                    window._main.spriteFrames.matchM\r\n                break\r\n            case 2:\r\n                this.stake.getComponent(cc.Sprite).spriteFrame =\r\n                    window._main.spriteFrames.matchL\r\n                break\r\n            default:\r\n                this.stake.getComponent(cc.Sprite).spriteFrame =\r\n                    window._main.spriteFrames.matchS\r\n                break\r\n        }\r\n    },\r\n\r\n    // 获取可玩场次\r\n    getModelList() {\r\n        window._main.api.getModelList()\r\n        .then(res => {\r\n            if (res.data.ok) {\r\n\r\n                res.data.r.forEach((item, i) => {\r\n                    this.stakeBtns[i].active = true\r\n                    this.stakeBtns[i].getChildByName('text')\r\n                        .getComponent(cc.Label).string = item.name\r\n\r\n                    this.stakeBtns[i]._matchId = item.id\r\n                    this.stakeBtns[i]._openState = item.openState\r\n                    this.stakeBtns[i]._value = item.goldExpend\r\n\r\n                    // 非开放状态\r\n                    if (!item.openState) {\r\n                        this.stakeBtns[i].getComponent(cc.Sprite)\r\n                            .spriteFrame = window._main.spriteFrames.stakeBtnDisable\r\n                    } else if (this.stakeValue === null) {\r\n                        this.stakeValue = item.goldExpend\r\n                        this.setMatch(i, item.id)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    },\r\n\r\n    // 获取奖品列表\r\n    getPrizeList() {\r\n        window._main.api.getPrizeList(this.matchId)\r\n        .then(res => {\r\n            if (res.data.ok) {\r\n                window._main.gift.build(res.data.r)\r\n            }\r\n        })\r\n    },\r\n\r\n    showResult(results) {\r\n        if (results.grabResultInt === 3) {\r\n            this.result.getComponent(cc.Sprite)\r\n                .spriteFrame = cc.loader.getRes('image/game/result-win', cc.SpriteFrame)\r\n        } else {\r\n            this.result.getComponent(cc.Sprite)\r\n                .spriteFrame = cc.loader.getRes('image/game/result-fail', cc.SpriteFrame)\r\n        }\r\n\r\n        this.starResultTip.active = results.getStars\r\n\r\n        this.result.active = true\r\n        this.result.getChildByName('list').getChildByName('text')\r\n            .getComponent(cc.Label).string = results.grabResultStr\r\n        this.result.runAction(cc.sequence(\r\n            cc.jumpBy(.5, 0, 0, 10, 3),\r\n            cc.callFunc(() => {\r\n                setTimeout(() => {\r\n                    this.result.active = false\r\n                    // 5星奖励\r\n                    if (results.starsGoods) {\r\n                        this.starPrompt.show(\r\n                            results.starsGoods.img,\r\n                            results.starsGoods.name\r\n                        )\r\n                    }\r\n\r\n                    if (window._main.user.starsNum && !localStorage.getStar) {\r\n                        window._main.node.getChildByName('guide').active = true\r\n                        localStorage.getStar = true\r\n                    }\r\n                    \r\n                }, 1000)\r\n            })\r\n        ))\r\n    },\r\n\r\n    update() {\r\n        if (this.bgm && !window._main.audio.bgm.isPlaying) \r\n            window._main.audio.bgm.play()\r\n    },\r\n\r\n    activityBoxShow() {\r\n        this.activityBox.active = true\r\n        setTimeout(() => {\r\n            this.activityBox.active = false\r\n        }, 3000)\r\n    },\r\n\r\n    updateStars() {\r\n        this.starBox.children.forEach((star, i) => {\r\n            if (i < window._main.user.starsNum) {\r\n                star.getComponent(cc.Sprite).spriteFrame = \r\n                    window._main.spriteFrames.starYellow\r\n            } else {\r\n                star.getComponent(cc.Sprite).spriteFrame = \r\n                    window._main.spriteFrames.starGray\r\n            }\r\n        })\r\n    },\r\n\r\n    listen() {\r\n        const _this = this\r\n        // 点击 问号 和 星星\r\n        this.qMark.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            this.activityBoxShow, this\r\n        )\r\n\r\n        this.starBox.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            this.activityBoxShow, this\r\n        )\r\n        // 音效按钮\r\n        this.voice.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            function() {\r\n            }\r\n        )\r\n        this.voice.on(\r\n            cc.Node.EventType.TOUCH_END,\r\n            function() {\r\n                _this.bgm ^= 1\r\n                this.getComponent(cc.Sprite).spriteFrame = _this.bgm ? \r\n                    window._main.spriteFrames.voiceOn : window._main.spriteFrames.voiceClose\r\n                \r\n                _this.bgm ? window._main.audio.bgm.resume() : window._main.audio.bgm.pause()\r\n                \r\n            }\r\n        )\r\n        // 开始按钮\r\n        this.startBtn.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            () => {\r\n                window._main.audio.clickStart.play()\r\n                this.startBtn.getComponent(cc.Sprite).spriteFrame =\r\n                    window._main.spriteFrames.startBtnPress\r\n            }\r\n        )\r\n        this.startBtn.on(\r\n            cc.Node.EventType.TOUCH_END,\r\n            () => {\r\n                this.startBtn.getComponent(cc.Sprite).spriteFrame =\r\n                    window._main.spriteFrames.startBtnNormal\r\n                // if (this.matchId === null) alert('请先下注')\r\n                if (window._main.user.balance <= 0) {\r\n                    window._main.shop.show()\r\n                }\r\n                else this.claw.fall()\r\n            }\r\n        )\r\n\r\n        // 下注按钮\r\n        this.stakeBtns.forEach((btn, index) => {\r\n            btn._index = index\r\n            btn.on(\r\n                cc.Node.EventType.TOUCH_START,\r\n                event => {\r\n\r\n                    // 禁选\r\n                    if (!btn._openState) {\r\n                        event.stopPropagation()\r\n                        return\r\n                    }\r\n\r\n                    const val = btn._value\r\n                    if (val > window._main.user.balance) {\r\n                        window._main.shop.show()\r\n                        return\r\n                    }\r\n                    this.stakeValue = val\r\n\r\n                    this.stakeBtns.forEach(btn => {\r\n                        if (btn._openState) {\r\n                            btn.getComponent(cc.Sprite).spriteFrame =\r\n                                window._main.spriteFrames.stakeBtnNormal\r\n                        } else {\r\n                            btn.getComponent(cc.Sprite).spriteFrame =\r\n                                window._main.spriteFrames.stakeBtnDisable\r\n                        }\r\n                        // 移除其他特效\r\n                        btn.getChildByName('text')\r\n                            .stopAllActions()\r\n                        btn.getChildByName('text')\r\n                            .runAction(cc.moveTo(0, 0, 18))\r\n\r\n                    })\r\n\r\n                    btn.getComponent(cc.Sprite).spriteFrame =\r\n                        window._main.spriteFrames.stakeBtnPress\r\n\r\n                    const text = btn.getChildByName('text')\r\n\r\n\r\n                    text.stopAllActions()\r\n                    text.runAction(cc.jumpTo(1, 0, 9, 10, 3))\r\n\r\n                    // 下注\r\n                    this.setStake(btn._index)\r\n\r\n                    if (btn._matchId !== this.matchId) {\r\n                        switch(btn._index) {\r\n                            case 0:\r\n                                window._main.api.monitor('500场', 3)\r\n                                break\r\n                            case 1:\r\n                                window._main.api.monitor('1000场', 4)\r\n                                break\r\n                            case 2:\r\n                                window._main.api.monitor('2000场', 5)\r\n                                break\r\n                        }\r\n                    }\r\n\r\n\r\n                    // 设置 当前场次 id\r\n                    this.matchId = btn._matchId\r\n\r\n                    // 获取奖品列表\r\n                    this.getPrizeList()\r\n\r\n                    /*\r\n                    * 高级场切换\r\n                    */\r\n                    this.claw.setModel(this.matchId)\r\n                }\r\n            )\r\n        })\r\n\r\n        // 规则按钮\r\n        this.ruleBtn.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            () => {\r\n                this.ruleBtn.scale = .95\r\n            }\r\n        )\r\n        this.ruleBtn.on(\r\n            cc.Node.EventType.TOUCH_END,\r\n            () => {\r\n                this.ruleBtn.scale = 1\r\n                this.rule.show()\r\n            }\r\n\r\n        )\r\n\r\n        // giftBtn\r\n        this.giftBtn.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            () => {\r\n                this.giftBtn.scale = .95\r\n            }\r\n        )\r\n        this.giftBtn.on(\r\n            cc.Node.EventType.TOUCH_END,\r\n            () => {\r\n                this.giftBtn.scale = 1\r\n                window._main.record.show()\r\n            }\r\n        )\r\n\r\n        this.scoreBkg.on(\r\n            cc.Node.EventType.TOUCH_END,\r\n            () => {\r\n                window._main.shop.show()\r\n            }\r\n        )\r\n    }\r\n})\r\n"
  ]
}