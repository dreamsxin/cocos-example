{"version":3,"sources":["../../../../assets/scripts/assets/scripts/ImageController.js"],"names":["cc","Class","extends","Component","properties","home","Node","imagePrefab","Prefab","images","default","type","SpriteFrame","audios","url","AudioClip","onLoad","items","selectIndex","canvas","getComponent","i","length","item","instantiate","sf","node","addChild","updateSpriteFrame","push","selectImage","index","Tool","play","set_bg_image","onEvent","name"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAOL,GAAGM,IADF;;AAGRC,qBAAcP,GAAGQ,MAHT;AAIRC,gBAAQ;AACJC,qBAAS,EADL;AAEJC,kBAAMX,GAAGY;AAFL,SAJA;;AASRC,gBAAO;AACHH,qBAAS,EADN;AAEHI,iBAAK,CAACd,GAAGe,SAAJ;AAFF;AATC,KAHP;;AAkBL;;AAEAC,UApBK,oBAoBK;;AAEN,aAAKC,KAAL,GAAa,EAAb;AACA,aAAKC,WAAL,GAAmB,CAAnB;AACA,aAAKC,MAAL,GAAc,KAAKd,IAAL,CAAUe,YAAV,CAAuB,QAAvB,CAAd;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKZ,MAAL,CAAYa,MAAhC,EAAwC,EAAED,CAA1C,EAA6C;AACzC,gBAAIE,OAAOvB,GAAGwB,WAAH,CAAe,KAAKjB,WAApB,CAAX;AACA,gBAAIkB,KAAK,KAAKhB,MAAL,CAAYY,CAAZ,CAAT;AACA,iBAAKK,IAAL,CAAUC,QAAV,CAAmBJ,IAAnB;AACAA,iBAAKH,YAAL,CAAkB,QAAlB,EAA4BQ,iBAA5B,CAA8C,IAA9C,EAAmDH,EAAnD,EAAsDJ,CAAtD;AACA,iBAAKJ,KAAL,CAAWY,IAAX,CAAgBN,IAAhB;AACH;AAEJ,KAjCI;;;AAmCLO,iBAAa,qBAAUC,KAAV,EAAiB;;AAE1BC,aAAKC,IAAL,CAAU,KAAKpB,MAAL,CAAYkB,KAAZ,CAAV;AACA,aAAKb,WAAL,GAAmBa,KAAnB;AACA,aAAKZ,MAAL,CAAYe,YAAZ,CAAyB,KAAKzB,MAAL,CAAYsB,KAAZ,CAAzB;AACAC,aAAKG,OAAL,CAAa,YAAb,EAA2B,KAAK1B,MAAL,CAAYsB,KAAZ,EAAmBK,IAA9C;AACH;AAzCI,CAAT","file":"ImageController.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        home : cc.Node,\n\n        imagePrefab : cc.Prefab,\n        images: {\n            default: [],\n            type: cc.SpriteFrame\n        },\n\n        audios:{\n            default: [],\n            url: [cc.AudioClip]\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        this.items = [];\n        this.selectIndex = 0;\n        this.canvas = this.home.getComponent('HomeUI')\n        for (var i = 0; i < this.images.length; ++i) {\n            var item = cc.instantiate(this.imagePrefab);\n            var sf = this.images[i];\n            this.node.addChild(item);\n            item.getComponent('ImageP').updateSpriteFrame(this,sf,i)\n            this.items.push(item)\n        }\n        \n    },\n\n    selectImage: function (index) {\n\n        Tool.play(this.audios[index]);\n        this.selectIndex = index;\n        this.canvas.set_bg_image(this.images[index]);\n        Tool.onEvent('Background', this.images[index].name);\n    },\n});\n"]}