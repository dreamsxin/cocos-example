{"version":3,"sources":["../../../../assets/scripts/assets/scripts/colorController.js"],"names":["cc","Class","extends","Component","properties","home","default","type","Node","colorPrefab","Prefab","colors","String","audios","url","AudioClip","onLoad","items","selectIndex","canvas","getComponent","i","length","item","instantiate","color","node","addChild","updateColor","push","isFirst","selectColor","index","Tool","play","orginItem","hideClick","selectedItem","showClick","set_pan_color","onEvent"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAO;AACHC,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SADC;;AAMRC,qBAAcT,GAAGU,MANT;;AAQRC,gBAAQ;AACJL,qBAAS,EADL;AAEJC,kBAAMP,GAAGY;AAFL,SARA;;AAaRC,gBAAO;AACHP,qBAAS,EADN;AAEHQ,iBAAK,CAACd,GAAGe,SAAJ;AAFF;;AAbC,KAHP;;AAuBL;;AAEAC,YAAQ,kBAAY;;AAEhB,aAAKC,KAAL,GAAa,EAAb;AACA,aAAKC,WAAL,GAAmB,CAAnB;AACA,aAAKC,MAAL,GAAc,KAAKd,IAAL,CAAUe,YAAV,CAAuB,QAAvB,CAAd;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKV,MAAL,CAAYW,MAAhC,EAAwC,EAAED,CAA1C,EAA6C;AACzC,gBAAIE,OAAOvB,GAAGwB,WAAH,CAAe,KAAKf,WAApB,CAAX;AACA,gBAAIgB,QAAQ,KAAKd,MAAL,CAAYU,CAAZ,CAAZ;AACA,iBAAKK,IAAL,CAAUC,QAAV,CAAmBJ,IAAnB;AACAA,iBAAKH,YAAL,CAAkB,QAAlB,EAA4BQ,WAA5B,CAAwC,IAAxC,EAA6CH,KAA7C,EAAmDJ,CAAnD;AACA,iBAAKJ,KAAL,CAAWY,IAAX,CAAgBN,IAAhB;AACH;;AAED,aAAKO,OAAL,GAAe,IAAf;AACA,aAAKC,WAAL,CAAiB,CAAjB;AAEH,KAzCI;;AA2CLA,iBAAa,qBAAUC,KAAV,EAAiB;;AAE1B,YAAI,CAAC,KAAKF,OAAV,EAAmB;AACfG,iBAAKC,IAAL,CAAU,KAAKrB,MAAL,CAAYmB,KAAZ,CAAV;AACH;;AAED,aAAKF,OAAL,GAAe,KAAf;;AAEA,YAAIK,YAAY,KAAKlB,KAAL,CAAW,KAAKC,WAAhB,EAA6BE,YAA7B,CAA0C,QAA1C,CAAhB;AACAe,kBAAUC,SAAV;;AAEA,aAAKlB,WAAL,GAAmBc,KAAnB;;AAEA,YAAIK,eAAe,KAAKpB,KAAL,CAAW,KAAKC,WAAhB,EAA6BE,YAA7B,CAA0C,QAA1C,CAAnB;AACAiB,qBAAaC,SAAb;;AAEA,aAAKnB,MAAL,CAAYoB,aAAZ,CAA0B,KAAK5B,MAAL,CAAYqB,KAAZ,CAA1B;;AAEAC,aAAKO,OAAL,CAAa,OAAb,EAAsB,KAAK7B,MAAL,CAAYqB,KAAZ,CAAtB;AAIH;;AAjEI,CAAT","file":"colorController.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        home : {\n            default: null,\n            type: cc.Node\n        },\n\n        colorPrefab : cc.Prefab,\n\n        colors: {\n            default: [],\n            type: cc.String\n        },\n\n        audios:{\n            default: [],\n            url: [cc.AudioClip]\n        },\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad: function () {\n\n        this.items = [];\n        this.selectIndex = 0;\n        this.canvas = this.home.getComponent('HomeUI')\n        for (var i = 0; i < this.colors.length; ++i) {\n            var item = cc.instantiate(this.colorPrefab);\n            var color = this.colors[i];\n            this.node.addChild(item);\n            item.getComponent('colors').updateColor(this,color,i)\n            this.items.push(item)\n        }\n\n        this.isFirst = true\n        this.selectColor(0);\n\n    },\n\n    selectColor: function (index) {\n\n        if (!this.isFirst) {\n            Tool.play(this.audios[index]);        \n        }\n        \n        this.isFirst = false\n\n        var orginItem = this.items[this.selectIndex].getComponent('colors');\n        orginItem.hideClick();\n\n        this.selectIndex = index;\n\n        var selectedItem = this.items[this.selectIndex].getComponent('colors');\n        selectedItem.showClick();\n\n        this.canvas.set_pan_color(this.colors[index])\n\n        Tool.onEvent('Brush', this.colors[index]);\n\n        \n\n    }\n\n});\n"]}