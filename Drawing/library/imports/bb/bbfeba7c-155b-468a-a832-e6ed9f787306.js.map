{"version":3,"sources":["../../../../assets/scripts/assets/scripts/ButtonScaler.js"],"names":["cc","Class","extends","Component","properties","pressedScale","transDuration","buttonAudio","default","url","AudioClip","onLoad","self","initScale","node","scale","button","getComponent","Button","scaleDownAction","scaleTo","scaleUpAction","onTouchDown","event","stopAllActions","runAction","onTouchUp","Tool","play","onTouchCancel","on"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAc,GADN;AAERC,uBAAe,GAFP;AAGRC,qBAAa;AACTC,qBAAS,IADA;AAETC,iBAAKT,GAAGU;AAFC;AAHL,KAHP;;AAYL;AACAC,YAAQ,kBAAY;AAChB,YAAIC,OAAO,IAAX;AACAA,aAAKC,SAAL,GAAiB,KAAKC,IAAL,CAAUC,KAA3B;AACAH,aAAKI,MAAL,GAAcJ,KAAKK,YAAL,CAAkBjB,GAAGkB,MAArB,CAAd;AACAN,aAAKO,eAAL,GAAuBnB,GAAGoB,OAAH,CAAWR,KAAKN,aAAhB,EAA+BM,KAAKP,YAApC,CAAvB;AACAO,aAAKS,aAAL,GAAqBrB,GAAGoB,OAAH,CAAWR,KAAKN,aAAhB,EAA+BM,KAAKC,SAApC,CAArB;AACA,iBAASS,WAAT,CAAsBC,KAAtB,EAA6B;AACzB,iBAAKC,cAAL;AACA,iBAAKC,SAAL,CAAeb,KAAKO,eAApB;AACH;AACD,iBAASO,SAAT,CAAoBH,KAApB,EAA2B;AACvB,iBAAKC,cAAL;AACA,gBAAIZ,KAAKL,WAAT,EAAqB;AACjBoB,qBAAKC,IAAL,CAAUhB,KAAKL,WAAf;AACH;AACD,iBAAKkB,SAAL,CAAeb,KAAKS,aAApB;AACH;AACD,iBAASQ,aAAT,CAAwBN,KAAxB,EAA+B;AAC3B,iBAAKC,cAAL;AACA,iBAAKC,SAAL,CAAeb,KAAKS,aAApB;AACH;AACD,aAAKP,IAAL,CAAUgB,EAAV,CAAa,YAAb,EAA2BR,WAA3B,EAAwC,KAAKR,IAA7C;AACA,aAAKA,IAAL,CAAUgB,EAAV,CAAa,UAAb,EAAyBJ,SAAzB,EAAoC,KAAKZ,IAAzC;AACA,aAAKA,IAAL,CAAUgB,EAAV,CAAa,aAAb,EAA4BD,aAA5B,EAA2C,KAAKf,IAAhD;AACH;AArCI,CAAT","file":"ButtonScaler.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pressedScale: 0.8,\n        transDuration: 0.1,\n        buttonAudio: {\n            default: null,\n            url: cc.AudioClip\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        var self = this;\n        self.initScale = this.node.scale;\n        self.button = self.getComponent(cc.Button);\n        self.scaleDownAction = cc.scaleTo(self.transDuration, self.pressedScale);\n        self.scaleUpAction = cc.scaleTo(self.transDuration, self.initScale);\n        function onTouchDown (event) {\n            this.stopAllActions();\n            this.runAction(self.scaleDownAction);\n        }\n        function onTouchUp (event) {\n            this.stopAllActions();\n            if (self.buttonAudio){\n                Tool.play(self.buttonAudio);\n            }\n            this.runAction(self.scaleUpAction);\n        }\n        function onTouchCancel (event) {\n            this.stopAllActions();\n            this.runAction(self.scaleUpAction);\n        }\n        this.node.on('touchstart', onTouchDown, this.node);\n        this.node.on('touchend', onTouchUp, this.node);\n        this.node.on('touchcancel', onTouchCancel, this.node);\n    }\n});\n"]}