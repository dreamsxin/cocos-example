require=function s(c,a,r){function h(t,e){if(!a[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=a[t]={exports:{}};c[t][0].call(i.exports,function(e){return h(c[t][1][e]||e)},i,i.exports,s,c,a,r)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)h(r[e]);return h}({BgImagesUI:[function(e,t,n){"use strict";cc._RF.push(t,"70f15hjr/9PCJnYCovx5cmn","BgImagesUI"),cc.Class({extends:cc.Component,properties:{bgImagesAnim:cc.Animation,btnShowSub:cc.Button,btnHideSub:cc.Button,colorContainer:cc.Node,imagesContainer:cc.Node},onLoad:function(){this.btnShowSub.node.active=!0,this.btnHideSub.node.active=!1},showSubBtns:function(){this.btnContainer.active=!0,this.bgImagesAnim.play("bg_images_pop")},hideSubBtns:function(){this.bgImagesAnim.play("bg_images_fold")},onButtonClick:function(){1==this.btnContainer.active?hideSubBtns():showSubBtns()},onFinishBgAnim:function(e){this.btnShowSub.node.active=e,this.btnHideSub.node.active=!e}}),cc._RF.pop()},{}],ButtonScaler:[function(e,t,n){"use strict";cc._RF.push(t,"bbfebp8FVtGiqgy5u2feHMG","ButtonScaler"),cc.Class({extends:cc.Component,properties:{pressedScale:.8,transDuration:.1,buttonAudio:{default:null,url:cc.AudioClip}},onLoad:function(){var t=this;t.initScale=this.node.scale,t.button=t.getComponent(cc.Button),t.scaleDownAction=cc.scaleTo(t.transDuration,t.pressedScale),t.scaleUpAction=cc.scaleTo(t.transDuration,t.initScale),this.node.on("touchstart",function(e){this.stopAllActions(),this.runAction(t.scaleDownAction)},this.node),this.node.on("touchend",function(e){this.stopAllActions(),t.buttonAudio&&Tool.play(t.buttonAudio),this.runAction(t.scaleUpAction)},this.node),this.node.on("touchcancel",function(e){this.stopAllActions(),this.runAction(t.scaleUpAction)},this.node)}}),cc._RF.pop()},{}],Dragonbones:[function(e,t,n){"use strict";cc._RF.push(t,"eccc3JYSHdHt6Qkei1HB95n","Dragonbones"),cc.Class({extends:cc.Component,properties:{assets:{default:[],type:dragonBones.DragonBonesAsset},atlasAssets:{default:[],type:dragonBones.DragonBonesAtlasAsset}},start:function(){}}),cc._RF.pop()},{}],Global:[function(e,t,n){"use strict";cc._RF.push(t,"35ae7+MP6FJZJ1L5G19AzWc","Global"),Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.Global={paperModel:null},window.Tool={currentPlaySound:null,play:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.currentPlaySound&&cc.audioEngine.stop(this.currentPlaySound),e&&(this.currentPlaySound=cc.audioEngine.play(e,t,n))},onEvent:function(e,t){"object"===("undefined"==typeof TDAPP?"undefined":o(TDAPP))&&TDAPP.onEvent(e,t)},checkClient:function(){var e=navigator.userAgent;return{isAndroid:-1<e.indexOf("Android")||-1<e.indexOf("Adr"),isIOS:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isIOS_high_version:!!e.match(/OS ([8-9]{1}|\d{2,})_.* like Mac OS X/i)}}};n.target=new cc.EventTarget;cc._RF.pop()},{}],HomeUI:[function(e,t,n){"use strict";cc._RF.push(t,"309baT8+yxDtLMEMBv0zLOe","HomeUI");e("Global"),e("HttpUtils"),e("Model");var c=cc.Enum({draw:0,rubber:1,paper:2});cc.Class({extends:cc.Component,properties:{bgImageView:cc.Sprite,menu:cc.Layout,subMenu:cc.Node,shareView:cc.Node,phoneDesk:cc.Node,phoneDeskAnim:cc.Animation,rightView:cc.Node,backBtn:cc.Button,panWidth:0,rubberWidth:0,beginAudio:{default:null,url:cc.AudioClip}},onLoad:function(){Tool.play(this.beginAudio),this.subMenu=this.subMenu.getComponent("SubBtnsUI"),this.menuIndex=1,this.menuBtns=this.menu.node.getComponentsInChildren(cc.Button),this.setMenuIndex(null,1),this.is_click=!1,this.drawing_state=c.draw,this.set_touch_ctrl()},set_touch_ctrl:function(){var o=this,e=o.node.getContentSize().height;this.vsibleWidth=1640-(1920-cc.director.getVisibleSize().width),o.rt=new cc.RenderTexture(this.vsibleWidth,e),o.node._sgNode.addChild(o.rt),o.rt.begin(),o.rt.end(),o.touchId=null,this.node.on(cc.Node.EventType.TOUCH_START,function(e,t){if(null!=o.touchId)return!1;o.touchId=e.touch.__instanceId;var n=e.getLocation();if(o.drawing_state==c.paper&&Global.paperModel){if(Global.paperModel.asset)o.paperTaget=new cc.Node,o.node.addChild(o.paperTaget),o.armatureDisplay=o.paperTaget.addComponent(dragonBones.ArmatureDisplay),o.armatureDisplay.dragonAsset=Global.paperModel.asset,o.armatureDisplay.dragonAtlasAsset=Global.paperModel.atlasAsset,o.armatureDisplay.armatureName="Armature",o.armatureDisplay.addEventListener(dragonBones.EventObject.COMPLETE,o.animationEventHandler,o),o.armatureDisplay.addEventListener(dragonBones.EventObject.START,o.animationEventHandler,o);else o.armatureDisplay=null,o.paperTaget=new cc.Node,o.node.addChild(o.paperTaget),o.paperTaget.addComponent(cc.Sprite).spriteFrame=Global.paperModel.spriteFrame;return n=o.node.convertToNodeSpaceAR(n),o.paperTaget.position=cc.v2(n.x,n.y),!0}return o.originPoint=n,o.is_click=!0,o.drawWithLocation(n),n.x+=1,n.y+=1,o.drawWithLocation(n),!0}.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e,t){if(o.touchId!=e.touch.__instanceId)return!1;var n=e.getLocation();return o.drawing_state==c.paper&&Global.paperModel?(n=o.node.convertToNodeSpaceAR(n),o.paperTaget.position=cc.v2(n.x,n.y)):o.drawWithLocation(n),!0}.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(e,t){if(o.touchId!=e.touch.__instanceId)return!1;console.log("TOUCH_END"),o.touchId=null;var n=e.getLocation();if(o.drawing_state==c.paper&&Global.paperModel)return n=o.node.convertToNodeSpaceAR(n),o.armatureDisplay?(o.paperTaget.position=cc.v2(n.x,n.y),o.armatureDisplay.playAnimation(Global.paperModel.name,1)):(n.x+=o.vsibleWidth/2,n.y+=o.node.getContentSize().height/2,o.paperTaget.position=cc.v2(n.x,n.y),o.rt.begin(),o.paperTaget._sgNode.visit(),o.rt.end(),o.paperTaget.removeFromParent()),!0;o.is_click&&(o.is_click=!1)}.bind(this),this.node),this.node.parent.on(cc.Node.EventType.TOUCH_CANCEL,function(e){o.touchId==e.touch.__instanceId&&(o.drawing_state==c.paper&&Global.paperModel&&o.paperTaget.removeFromParent(),console.log("TOUCH_CANCEL")),o.touchId=null,o.is_click=!1}.bind(this),this.node)},drawWithLocation:function(e){var t=this;if(t.is_click)if((e=t.node.convertToNodeSpaceAR(e)).x+=t.vsibleWidth/2,e.y+=t.node.height/2,t.drawing_state==c.draw){var n=t.originPoint,o=new cc.DrawNode;o.drawSegment(n,e,t.panWidth,t.color),t.rt.begin(),o.visit(),t.rt.end(),t.originPoint=e}else if(t.drawing_state==c.rubber){var i=t.originPoint,s=new cc.DrawNode;s.drawSegment(i,e,t.rubberWidth,cc.hexToColor("ffffff")),s.setBlendFunc(cc.BlendFunc.ADDITIVE,771),t.rt.begin(),s.visit(),t.rt.end(),t.originPoint=e}},animationEventHandler:function(e){if(e.type===dragonBones.EventObject.COMPLETE){var t=e.currentTarget.parent.getPosition();t.x+=this.vsibleWidth/2,t.y+=this.node.getContentSize().height/2,e.currentTarget.parent.setPosition(t.x,t.y),this.rt.begin(),e.currentTarget.parent.visit(),this.rt.end(),e.currentTarget.parent.removeFromParent()}},set_drawing_state:function(e){e=parseInt(e),this.drawing_state=e},set_pan_color:function(e){this.color=cc.hexToColor(e)},set_bg_image:function(e){this.bgImageView.spriteFrame=e},setMenuIndex:function(e,t){t=parseInt(t);var n=this.menuBtns[this.menuIndex].node.getComponentsInChildren(cc.Sprite)[1],o=this.menuBtns[this.menuIndex].node.getComponentsInChildren(cc.Label)[0];n.node.color=cc.hexToColor("753D32"),o.node.color=cc.hexToColor("FFFFFF");var i=this.menuBtns[t].node.getComponentsInChildren(cc.Sprite)[1],s=this.menuBtns[t].node.getComponentsInChildren(cc.Label)[0];switch(i.node.color=cc.hexToColor("FEF0C4"),s.node.color=cc.hexToColor("753D32"),this.menuIndex=t){case 0:Tool.onEvent("Save"),this.showShareView(),this.showSubBtns(-1);break;case 1:Tool.onEvent("Brush"),this.set_drawing_state(c.draw),this.showSubBtns(0);break;case 2:Tool.onEvent("Sticker"),this.set_drawing_state(c.paper),this.showSubBtns(1);break;case 3:this.set_drawing_state(c.rubber),this.showSubBtns(-1);break;case 4:Tool.onEvent("Background"),this.showSubBtns(2)}},showSubBtns:function(e){this.subMenu.showSubBtns(e)},showShareView:function(){this.rightView.active=!1,this.backBtn.node.active=!1;var e=this;this.shareView.getComponent("ShareView").screenShot(function(){e.shareView.active=!0,e.rightView.active=!0,e.backBtn.node.active=!0})},back:function(){cc.sys.localStorage.getItem("phoneDeskIsShow")?null!=kf&&kf.close():(cc.sys.localStorage.setItem("phoneDeskIsShow","true"),this.phoneDesk.active=!0)},phoneDeskClick:function(e,t){0==t?null!=kf&&kf.close():1==t&&(this.phoneDesk.active=!1,null!=kf&&(Tool.checkClient().isIOS?kf.addShortcut("https://static.xingbook.com/shortcut.html?icon=https://xb-3sc.xingbook.com/xb-3sc/icon.png&title=%e7%94%bb%e6%9d%bf&scheme=xbmg%3a%2f%2ffullScreenWeb%3flandscape%3dtrue%26url%3dhttps%3a%2f%2fgo.xingbook.com%2fdoV"):Tool.checkClient().isAndroid&&kf.addShortcut(JSON.stringify({image:"https://xb-3sc.xingbook.com/xb-3sc/icon.png",name:"画板",url:"xbmg://fullScreenWeb?landscape=true&url=https://go.xingbook.com/doV"}))))},revokePath:function(){this.rt.clear(0,0,0,0)},update:function(e){}}),cc._RF.pop()},{Global:"Global",HttpUtils:"HttpUtils",Model:"Model"}],HttpUtils:[function(e,t,n){"use strict";cc._RF.push(t,"5aa9c7CqtpDwJatvnRdfqWu","HttpUtils");var o=cc.Class({extends:cc.Component,properties:{},statics:{instance:null},onLoad:function(){},httpGets:function(e,t){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&200<=n.status&&n.status<300){var e=n.responseText;t(e)}},n.open("GET",e,!0),cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.timeout=2e4,n.send()},httpPost:function(e,t,n){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=function(){if(cc.log("xhr.readyState="+o.readyState+"  xhr.status="+o.status),4===o.readyState&&200<=o.status&&o.status<300){var e=o.responseText;n(e)}else n(-1)},o.open("POST",e,!0),cc.sys.isNative&&o.setRequestHeader("Accept-Encoding","gzip,deflate"),o.timeout=5e3,o.send(t)}});o.getInstance=function(){return null==o.instance&&(o.instance=new o),o.instance},t.exports=o,cc._RF.pop()},{}],ImageController:[function(e,t,n){"use strict";cc._RF.push(t,"6ecd9x1+URHz62lTQAVCx4u","ImageController"),cc.Class({extends:cc.Component,properties:{home:cc.Node,imagePrefab:cc.Prefab,images:{default:[],type:cc.SpriteFrame},audios:{default:[],url:[cc.AudioClip]}},onLoad:function(){this.items=[],this.selectIndex=0,this.canvas=this.home.getComponent("HomeUI");for(var e=0;e<this.images.length;++e){var t=cc.instantiate(this.imagePrefab),n=this.images[e];this.node.addChild(t),t.getComponent("ImageP").updateSpriteFrame(this,n,e),this.items.push(t)}},selectImage:function(e){Tool.play(this.audios[e]),this.selectIndex=e,this.canvas.set_bg_image(this.images[e]),Tool.onEvent("Background",this.images[e].name)}}),cc._RF.pop()},{}],ImageP:[function(e,t,n){"use strict";cc._RF.push(t,"d66b13CRGBL4aGxxea1OVp5","ImageP"),cc.Class({extends:cc.Component,properties:{imageView:cc.Sprite,imageID:0},onLoad:function(){var e=this;this.node.on("touchend",function(){e.teamPanel.selectImage(e.imageID)},this)},updateSpriteFrame:function(e,t,n){this.imageID=n,this.teamPanel=e,this.imageView.spriteFrame=t}}),cc._RF.pop()},{}],Model:[function(e,t,n){"use strict";cc._RF.push(t,"228366EOehGlrhY/hqDxsPI","Model"),t.exports=cc.Class({name:"paperModel",properties:{name:cc.String,asset:dragonBones.DragonBonesAsset,atlasAsset:dragonBones.DragonBonesAtlasAsset,spritFrame:cc.spritFrame,paperFrame:cc.spritFrame}}),cc._RF.pop()},{}],PaperController:[function(e,t,n){"use strict";cc._RF.push(t,"5e6c5YPYThGPKHJjwEMBZO+","PaperController");var u=e("Model");cc.Class({extends:cc.Component,properties:{paperPrefab:cc.Prefab,loadView:cc.Node},onLoad:function(){this.items=[],this.resources=[],this.loadDragonBones(),this.loadPaperFrames()},loadDragonBones:function(){var l=this;cc.loader.loadResDir("dragonBones",function(e,t){if(!(e||t.length<=0)){var n=[],o=[],i=[],s=[];for(var c in t){var a=t[c];if(a instanceof cc.SpriteFrame&&-1==a.name.lastIndexOf("_tex")&&s.push(a),a instanceof dragonBones.DragonBonesAsset){var r=a.name;n.push(r.substr(0,r.lastIndexOf("_ske"))),o.push(a)}a instanceof dragonBones.DragonBonesAtlasAsset&&i.push(a)}for(var c in n){var h=new u;h.name=n[c],h.asset=o[c],h.atlasAsset=i[c],h.paperFrame=s[c],h.spriteFrame=null,l.resources.push(h)}}})},loadPaperFrames:function(){var h=this;cc.loader.loadResDir("papers",function(e,t){if(!(e||t.length<=0)){var n=[],o=[],i=[];for(var s in t){var c=t[s];if(c instanceof cc.SpriteFrame){var a=c.name;0<c.name.lastIndexOf("_01")?(n.push(a.substr(0,a.lastIndexOf("_01"))),i.push(c)):0<c.name.lastIndexOf("_02")&&o.push(c)}}for(var s in n){var r=new u;r.name=n[s],r.asset=null,r.atlasAsset=null,r.paperFrame=o[s],r.spriteFrame=i[s],h.resources.push(r)}h.updateUI()}})},updateUI:function(){for(var e in this.resources){var t=cc.instantiate(this.paperPrefab),n=this.resources[e].paperFrame;this.node.addChild(t),t.getComponent("PaperPrefab").updateSpriteFrame(this,n,e),this.items.push(t)}this.loadView.active=!1,(t=this.items[0].getComponent("PaperPrefab")).showClick(),Global.paperModel=this.resources[0],this.selectIndex=0},selectPaper:function(e){this.items[this.selectIndex].getComponent("PaperPrefab").hideClick(),this.selectIndex=e,this.items[this.selectIndex].getComponent("PaperPrefab").showClick(),Global.paperModel=this.resources[this.selectIndex],Tool.onEvent("Sticker",this.resources[this.selectIndex].name)},start:function(){}}),cc._RF.pop()},{Model:"Model"}],PaperPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"3cc08hido1O7Z71ytETF9y/","PaperPrefab"),cc.Class({extends:cc.Component,properties:{paperView:cc.Sprite,click:cc.Node,paperID:0},onLoad:function(){this.items=[];var e=this;this.node.on("touchend",function(){e.teamPanel.selectPaper(e.paperID)},this)},updateSpriteFrame:function(e,t,n){this.paperID=n,this.teamPanel=e,this.paperView.spriteFrame=t},showClick:function(){this.click.active=!0},hideClick:function(){this.click.active=!1}}),cc._RF.pop()},{}],Screenshot:[function(e,t,n){"use strict";cc._RF.push(t,"8a164ux4adHuL0EKmUODl3J","Screenshot"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},screenshotNative:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"shot.png",t=arguments[1],n=arguments[2],o=cc.director.getWinSize(),i=jsb.fileUtils.getWritablePath()+e;console.log("fullPath=",i),jsb.fileUtils.isFileExist(i)&&(console.log("remove"),jsb.fileUtils.removeFile(i));var s=Math.floor(o.width)/1920*1640,c=new cc.RenderTexture(Math.floor(s),Math.floor(o.height));"high"==t&&(c=new cc.RenderTexture(Math.floor(o.width),Math.floor(o.height),cc.Texture2D.PIXEL_FORMAT_RGBA4444,gl.DEPTH24_STENCIL8_OES)),c.setPosition(cc.p(s/2,o.height/2)),c.begin(),cc.director.getRunningScene().visit(),c.end(),c.saveToFile(e,cc.ImageFormat.PNG),this.loadImg(i,n)},screenshotWebGL:function(p){var m=this;cc.director.on(cc.Director.EVENT_AFTER_DRAW,function(){var e=document.getElementById("GameCanvas");(function(e,t,n,o){var i=new Uint8Array(n*o*4);cc.game._renderContext.readPixels(e,t,n,o,cc.game._renderContext.RGBA,cc.game._renderContext.UNSIGNED_BYTE,i);for(var s=new Uint8Array(n*o*4),c=o-1;0<=c;c--)for(var a=0;a<n;a++)for(var r=0;r<4;r++)s[4*((o-1-c)*n+a)+r]=i[4*(c*n+a)+r];var h=new Uint8ClampedArray(s,0,s.length),l=new ImageData(h,n,o),u=document.createElement("canvas");u.width=n,u.height=o,u.getContext("2d").putImageData(l,0,0);var d=u.toDataURL("imagea/png");m.base64ToSpriteFrame(d,function(e){p&&p(d,e)}),cc.director.off(cc.Director.EVENT_AFTER_DRAW)})(0,0,Math.floor(e.width/1920*1640),e.height)})},screenshotCanvas:function(t){var e=document.getElementById("GameCanvas").toDataURL("imagea/png");this.base64ToSpriteFrame(e,function(e){t&&t(e)})},cutPicture:function(e,t){var n=void 0;return e instanceof cc.SpriteFrame?n=e:e instanceof cc.Texture2D&&(n=new cc.SpriteFrame(texture)),n?(n.setRect(t),n):null},base64ToSpriteFrame:function(e,n){var o=new Image;o.src=e,o.onload=function(){var e=new cc.Texture2D;e.initWithElement(o),e.handleLoadedTexture();var t=new cc.SpriteFrame(e);n&&n(t)}},loadImg:function(e,o){this.scheduleOnce(function(){cc.loader.load(e,function(e,t){var n=new cc.SpriteFrame(t,cc.Rect(0,0,t.width,t.height));o&&o(n)})},.01)}}),cc._RF.pop()},{}],ShareView:[function(e,t,n){"use strict";cc._RF.push(t,"9ceban09b9KAJ1D2zxw3cd0","ShareView"),cc.Class({extends:cc.Component,properties:{shot:cc.Sprite,shotIndex:0},onLoad:function(){},screenShot:function(e){null==this.screenshot&&(this.screenshot=this.node.addComponent("Screenshot")),cc.sys.isBrowser&&this.onbtn_web(e)},onbtn_web:function(n){var o=this;this.screenshot.screenshotWebGL(function(e,t){o.base64=e,o.shot.spriteFrame=t,n()})},onBtn_native:function(t){var n=this;this.shotIndex=this.shotIndex+1;var e="test"+this.shotIndex.toString()+".png";this.screenshot.screenshotNative(e,"low",function(e){n.shot.spriteFrame=e,t()})},hidden:function(){this.node.active=!1},shareToPlatform:function(e,n){if(Tool.onEvent("Share",n),window.system&&system.go)system.go("/download");else if(cc.sys.isBrowser&&null!=kf){var o=this;kf.saveImageToLocal(this.base64,function(e){o.imagePath=e;var t=JSON.stringify({pic:o.imagePath,type:n});kf.shareByClient(t)})}},saveToAlbum:function(){(Tool.onEvent("Save"),window.system&&system.go)?system.go("/download"):cc.sys.isBrowser&&null!=kf&&kf.saveImageToAlbum(this.base64,function(e){0<e.length?kf.toast("保存成功"):kf.toast("保存失败")})}}),cc._RF.pop()},{}],SubBtnsUI:[function(e,t,n){"use strict";cc._RF.push(t,"73d820NT4lNEqd1nxEXH0sF","SubBtnsUI"),cc.Class({extends:cc.Component,properties:{subBtnsAnim:cc.Animation,btnShowSub:cc.Button,btnHideSub:cc.Button,pushAnimationNames:{default:[],type:cc.String},popAnimationNames:{default:[],type:cc.String},containers:{default:[],type:cc.Node}},onLoad:function(){this.state=0,this.oldState=0,this.isShow=!1,this.needShow=!1,this.btnShowSub.node.active=!0,this.btnHideSub.node.active=!1,this.node.on("touchend",function(e){e.stopPropagation()},this),this.node.on("touchmove",function(e){e.stopPropagation()},this),this.node.on("touchstart",function(e){e.stopPropagation()},this),this.node.on("touchcancel",function(e){e.stopPropagation()},this)},showBtn:function(){this.showSubBtns(this.state)},hideBtn:function(){this.hideSubBtns(this.state)},showSubBtns:function(e){if(!this.isShow&&-1<e)this.state=e,this.oldState!=this.state&&null!=this.oldState&&(this.containers[this.oldState].active=!1),this.needShow=!1,this.subBtnsAnim.play(this.pushAnimationNames[this.state]),this.containers[this.state].active=!0,this.oldState=this.state;else{if(e<0)return this.state=e,void this.hideBtn();if(e==this.state)return;this.subBtnsAnim.play(this.popAnimationNames[this.oldState]),this.state=e,this.needShow=!0}},hideSubBtns:function(e){this.isShow&&(e<0?this.subBtnsAnim.play(this.popAnimationNames[this.oldState]):(this.state=e,this.subBtnsAnim.play(this.popAnimationNames[this.state])))},onFinishAnim:function(e){this.btnShowSub.node.active=e,this.btnHideSub.node.active=!e,this.isShow=!e,this.needShow&&this.showBtn()}}),cc._RF.pop()},{}],colorController:[function(e,t,n){"use strict";cc._RF.push(t,"705a8yApn9HLqb6Iwv2p026","colorController"),cc.Class({extends:cc.Component,properties:{home:{default:null,type:cc.Node},colorPrefab:cc.Prefab,colors:{default:[],type:cc.String},audios:{default:[],url:[cc.AudioClip]}},onLoad:function(){this.items=[],this.selectIndex=0,this.canvas=this.home.getComponent("HomeUI");for(var e=0;e<this.colors.length;++e){var t=cc.instantiate(this.colorPrefab),n=this.colors[e];this.node.addChild(t),t.getComponent("colors").updateColor(this,n,e),this.items.push(t)}this.isFirst=!0,this.selectColor(0)},selectColor:function(e){this.isFirst||Tool.play(this.audios[e]),this.isFirst=!1,this.items[this.selectIndex].getComponent("colors").hideClick(),this.selectIndex=e,this.items[this.selectIndex].getComponent("colors").showClick(),this.canvas.set_pan_color(this.colors[e]),Tool.onEvent("Brush",this.colors[e])}}),cc._RF.pop()},{}],colors:[function(e,t,n){"use strict";cc._RF.push(t,"48e7bmlm/dGS72K5JY6GqM/","colors"),cc.Class({extends:cc.Component,properties:{bgView:cc.Node,click:cc.Node,colorID:0},onLoad:function(){var e=this;this.node.on("touchend",function(){e.teamPanel.selectColor(e.colorID)},this)},updateColor:function(e,t,n){this.color=t,this.colorID=n,this.teamPanel=e,this.bgView.color=cc.hexToColor(t)},showClick:function(){this.click.active=!0},hideClick:function(){this.click.active=!1}}),cc._RF.pop()},{}]},{},["BgImagesUI","ButtonScaler","Dragonbones","Global","HomeUI","HttpUtils","ImageController","ImageP","Model","PaperController","PaperPrefab","Screenshot","ShareView","SubBtnsUI","colorController","colors"]);