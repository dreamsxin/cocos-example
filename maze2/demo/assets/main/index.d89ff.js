window.__require=function e(t,o,n){function r(c,a){if(!o[c]){if(!t[c]){var l=c.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!a&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return r(t[c][1][e]||e)},u,u.exports,e,t,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({CActionLayerBase:[function(e,t,o){"use strict";cc._RF.push(t,"28122jbqrhOh7SODtKADZNn","CActionLayerBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./CAction"),a=e("./CAudio"),l=cc._decorator,s=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onRefreshLayer=function(){},t.prototype.initSize=function(){this.onClose();var e=cc.view.getVisibleSize(),t=e.width,o=e.height;this.node.width=t,this.node.height=o},t.prototype.onClose=function(){return this.node.zIndex=0,this.node.active=!1,this.node.scale=0,this.node.opacity=0,this},t.prototype.onOpen=function(e,t){var o=this;return void 0===e&&(e=0),void 0===t&&(t=!0),this.node.on(cc.Node.EventType.TOUCH_START,function(){}),this.node.zIndex=1+e,this.node.active=!0,t?cc.tween(this.node).to(0,{scale:0,opacity:0}).to(.3,{scaleX:1,scaleY:1,opacity:255},{easing:"backOut"}).call(function(){o.onOpenComplete&&o.onOpenComplete()}).start():this.node.scale=1,this},t.prototype.CActionOnOpenLayerButton=function(e,t){c.default.onOpenLayer(t)},t.prototype.CActionOnBackLayerButton=function(e,t){a.default.playBack(),c.default.onBackLayer(t)},i([s],t)}(cc.Component));o.default=u,cc._RF.pop()},{"./CAction":"CAction","./CAudio":"CAudio"}],CAction:[function(e,t,o){"use strict";cc._RF.push(t,"011d0b6+5RIp5klqjShPnzM","CAction");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../global/GlobalLayers"),a=e("./CActionLayerBase"),l=cc._decorator,s=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.onScene=function(e,t){cc.director.loadScene(e,function(){t&&t()})},t.prototype.onSceneButton=function(e,t){o.onScene(t)},t.initLayer=function(e){this.onOpenLayer(e,!0)},t.onOpenLayer=function(e,t){void 0===t&&(t=!1);var n=cc.find(o.configsNode.layers);if(n){var r=c.default.getLength();if(c.default[r]!==e){var i=n.getChildByName(e);i?(i.getComponent(a.default).onOpen(Number(r)),c.default.push(e)):o.getPrefabLayer(e,function(o){var i=cc.instantiate(o);n.addChild(i,0,e),t?i.getComponent(a.default).initSize():(i.getComponent(a.default).onOpen(Number(r)),c.default.push(e))})}}},t.prototype.onOpenLayerButton=function(e,t){o.onOpenLayer(t)},t.onBackLayer=function(e){var t=String(e).split("-")[0];e||(t="1");for(var n="string"==typeof t?Number(t):1,r=cc.find(o.configsNode.layers),i=0;i<n;i++){var l=c.default.pop();if(l){var s=r.getChildByName(l);null==s||s.getComponent(a.default).onClose()}}},t.prototype.onBackLayerButton=function(e,t){o.onBackLayer(t)},t.onBackAll=function(){for(var e=cc.find(o.configsNode.layers),t=null;t=c.default.pop();){var n=e.getChildByName(t);null==n||n.getComponent(a.default).onClose()}},t.getPrefabLayer=function(e,t){cc.resources.load(this.configsNode.prefabLayer+e,cc.Prefab,function(e,o){e&&cc.error(e),t(o)})},t.configsNode={layers:"Canvas/Layers",prefabLayer:"prefab/layers/"},o=i([s],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../global/GlobalLayers":"GlobalLayers","./CActionLayerBase":"CActionLayerBase"}],CAudio:[function(e,t,o){"use strict";cc._RF.push(t,"37c61w/R9tDBoYC4suFfKXX","CAudio");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.init=function(){},t.playKeyTone=function(){cc.resources.load("audio/popup",cc.AudioClip,function(e,t){e&&cc.error(e),cc.audioEngine.playEffect(t,!1)})},t.playSuccess=function(){cc.resources.load("audio/success",cc.AudioClip,function(e,t){e&&cc.error(e),cc.audioEngine.playEffect(t,!1)})},t.playBack=function(){},t.playBgm=function(){},t.prototype.onPlayKeyTone=function(){o.playKeyTone()},t.closeAudio=function(){cc.audioEngine.setMusicVolume(0),cc.audioEngine.setEffectsVolume(0)},t.openAudio=function(){cc.audioEngine.setMusicVolume(1),cc.audioEngine.setEffectsVolume(1)},o=i([a],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],CLoading:[function(e,t,o){"use strict";cc._RF.push(t,"f6336e6+NdNvKAaqiBBugH4","CLoading");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../components/Utils"),a=e("./CAudio"),l=cc._decorator,s=l.ccclass,u=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progress=null,t.progressSpeed=3,t.progressValue=0,t}return r(t,e),t.prototype.onLoad=function(){var e=this,t=cc.find("Canvas").getChildByName("LoadingMask");t.active=!0,cc.find("Canvas/Content").active=!1,this.progress=t.getChildByName("ProgressBar").getComponent(cc.ProgressBar),this.progress.progress=0;var o=t.getChildByName("loadingLabel").getComponent(cc.Label);cc.resources.preloadDir("/",function(t,n){o.string=c.getNumberToZero(t)+" / "+c.getNumberToZero(n),t==n&&e.onLoadComplete(),e.progressValue=t/n},function(){})},t.prototype.onLoadComplete=function(){cc.director.preloadScene("game",function(){});var e=cc.find("Canvas/LoadingMask/enter");e.opacity=255,e.once(cc.Node.EventType.TOUCH_END,function(){cc.find("Canvas/Content").active=!0;var e=cc.find("Canvas").getChildByName("LoadingMask");cc.tween(e).to(.2,{scale:0},{easing:"backIn"}).start(),a.default.init()})},t.prototype.start=function(){},t.prototype.update=function(e){this.progress&&1!=this.progress.progress&&this.progress.progress<this.progressValue&&(this.progress.progress+=e*this.progressSpeed)},i([s],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../components/Utils":"Utils","./CAudio":"CAudio"}],Common:[function(e,t,o){"use strict";cc._RF.push(t,"73acaNu8tZMDbX2B73eL/bh","Common");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),cc.log(1321323)},i([a],t)}(cc.Component));o.default=l,cc._RF.pop()},{}],GameLevelComplete:[function(e,t,o){"use strict";cc._RF.push(t,"f9795TowN1OlJXga08TTvxn","GameLevelComplete");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../common/CAction"),a=e("../../components/Utils"),l=e("../../global/GlobalGame"),s=cc._decorator,u=s.ccclass,p=s.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLabel=null,t.levelLabel=null,t}return r(t,e),t.prototype.showLabel=function(){var e=l.default.getCurrentLevel(),t=l.default.getCurrentTime();this.timeLabel.string=a.getSecondToMinute(t,!0),this.levelLabel.string=e.toString()+" / 10"},t.prototype.onEnable=function(){this.showLabel()},t.prototype.onNextLevel=function(){var e=l.default.getCurrentLevel();l.default.setCurrentLevel(e+1),c.default.onScene("game")},t.prototype.onBackHome=function(){c.default.onScene("home")},i([p(cc.Label)],t.prototype,"timeLabel",void 0),i([p(cc.Label)],t.prototype,"levelLabel",void 0),i([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../common/CAction":"CAction","../../components/Utils":"Utils","../../global/GlobalGame":"GlobalGame"}],GameMap:[function(e,t,o){"use strict";cc._RF.push(t,"b0879iQVTFHi5kPUT0VC3XS","GameMap");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../components/maze/MazeDFS"),a=e("../../global/GlobalGame"),l=e("./GameUI"),s=cc._decorator,u=s.ccclass,p=s.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wall=null,t.road=null,t.player=null,t.exit=null,t.bgNode=null,t.maze=null,t.isMoving=!1,t.movePoint=null,t}return r(t,e),t.prototype.onLoad=function(){var e=a.default.getCurrentLevel();this.maze=new c.default,this.maze.init({width:e+4,height:e+4}),this.maze.generateMaze()},t.prototype.start=function(){this.generateMaze(),this.setPlayerAndExit(),this.moves(cc.find("Canvas/ui")),this.scaleCamera(),this.showDirection()},t.prototype.scaleCamera=function(){var e=cc.Camera.main,t=this.maze.getSize(),o=t.width,n=t.height;o=64*o+32,n=64*n+32;var r=cc.view.getVisibleSize(),i=r.width/o,c=r.height/n,a=i>c?c:i;e.zoomRatio=a,this.bgNode.width=o,this.bgNode.height=n},t.prototype.generateMaze=function(){for(var e=cc.view.getVisibleSize(),t=(e.width,e.height,0),o=this.maze.getMaze();t<o.length;t++)for(var n=0,r=o[t];n<r.length;n++){var i=r[n];if(!i.wall){var c=this.getWallRoadNode(i.wall);this.node.addChild(c);var a=this.maze.getSize(),l=32*i.x-32*(a.width-1),s=32*(a.height-1)-32*i.y;c.setPosition(l,s),i.wall||(c.scale=1.7)}}},t.prototype.setPlayerAndExit=function(){var e=this.maze.getEnterAndExitPoint(),t=e.enter,o=e.exit,n=this.maze.getSize(),r={x:32*t.x-32*(n.width-1),y:32*(n.height-1)-32*t.y},i={x:32*o.x-32*(n.width-1),y:32*(n.height-1)-32*o.y};this.player.setPosition(cc.v2(r)),this.exit.setPosition(cc.v2(i))},t.prototype.getWallRoadNode=function(e){var t=new cc.Node;return t.addComponent(cc.Sprite).spriteFrame=e?this.wall:this.road,t},t.prototype.moves=function(e){var t=this;e.on(cc.Node.EventType.TOUCH_START,function(e){t.movePoint=e.getLocation()}),e.on(cc.Node.EventType.TOUCH_END,function(e){if(!t.isMoving){t.isMoving=!0;var o,n=cc.tween(t.player),r=e.getLocation().sub(t.movePoint);if((o=Math.abs(r.x)>Math.abs(r.y)?r.x>0?t.maze.getMoveStepData(t.maze.getMoveCurrentPos(),"right"):t.maze.getMoveStepData(t.maze.getMoveCurrentPos(),"left"):r.y>0?t.maze.getMoveStepData(t.maze.getMoveCurrentPos(),"up"):t.maze.getMoveStepData(t.maze.getMoveCurrentPos(),"down")).length>0){n.call(function(){t.hideDirection()});for(var i=0,c=o;i<c.length;i++){var a=c[i];n.by(.2,{x:32*a.xStep,y:32*-a.yStep})}n.call(function(){var e=t.maze.getEnterAndExitPoint().exit;t.maze.getMoveCurrentPos()==e?l.default.onLevelComplete():t.showDirection(),t.isMoving=!1}),n.start()}else t.isMoving=!1}})},t.prototype.showDirection=function(){var e=this.maze.getDirMove(this.maze.getMoveCurrentPos());cc.log(e,"ooooo"),this.player.getComponent(dragonBones.ArmatureDisplay).armature().getSlots().forEach(function(t){if("body"!=t.parent.name){var o=e[t.parent.name]?0:-1;cc.log(e[t.parent.name],t.parent.name,"lllll"),t.displayIndex=o}})},t.prototype.hideDirection=function(){this.player.getComponent(dragonBones.ArmatureDisplay).armature().getSlots().forEach(function(e){"body"!=e.parent.name&&(e.displayIndex=-1)})},i([p(cc.SpriteFrame)],t.prototype,"wall",void 0),i([p(cc.SpriteFrame)],t.prototype,"road",void 0),i([p(cc.Node)],t.prototype,"player",void 0),i([p(cc.Node)],t.prototype,"exit",void 0),i([p({type:cc.Node,tooltip:"\u80cc\u666f\u8282\u70b9"})],t.prototype,"bgNode",void 0),i([u],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../components/maze/MazeDFS":"MazeDFS","../../global/GlobalGame":"GlobalGame","./GameUI":"GameUI"}],GameUI:[function(e,t,o){"use strict";cc._RF.push(t,"04f18cTobBIK7OXOX3mG8xj","GameUI");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../common/CAction"),a=e("../../common/CAudio"),l=e("../../global/GlobalGame"),s=cc._decorator,u=s.ccclass,p=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.onLevelComplete=function(){o.tweenTime.stop(),a.default.playSuccess(),c.default.onOpenLayer("LevelComplete")},t.prototype.onSceneHome=function(){a.default.playBack(),c.default.onScene("home")},t.prototype.onEnable=function(){l.default.setCurrentTime(0),cc.find("Canvas/ui/level/value").getComponent(cc.Label).string=l.default.getCurrentLevel().toString()},t.prototype.start=function(){o.tweenTime=cc.tween(this.node).call(function(){l.default.incrCurrentTime()}).delay(1).union().repeatForever().start()},t.tweenTime=null,o=i([u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../common/CAction":"CAction","../../common/CAudio":"CAudio","../../global/GlobalGame":"GlobalGame"}],GlobalGame:[function(e,t,o){"use strict";cc._RF.push(t,"e9ff6lbZntE/qbgl7FqgiSw","GlobalGame"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.currentTime=0}return e.prototype.setCurrentLevel=function(e){this.currentLevel=e},e.prototype.getCurrentLevel=function(){return this.currentLevel},e.prototype.incrLevel=function(e){return void 0===e&&(e=1),this.currentLevel+=e,this.currentLevel},e.prototype.getCurrentTime=function(){return this.currentTime},e.prototype.setCurrentTime=function(e){this.currentTime=e},e.prototype.incrCurrentTime=function(e){return void 0===e&&(e=1),this.currentTime+=e,this.currentTime},e}();o.default=new n,cc._RF.pop()},{}],GlobalLayers:[function(e,t,o){"use strict";cc._RF.push(t,"eb6e7dqllxAfojJDkdzwAHq","GlobalLayers"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.layerRecord=[]}return e.prototype.pop=function(){return this.layerRecord.pop()},e.prototype.push=function(e){e?this.layerRecord[this.layerRecord.length-1]!=e&&this.layerRecord.push(e):cc.error("name not exists")},e.prototype.getLength=function(){return this.layerRecord.length},e}();o.default=new n,cc._RF.pop()},{}],HomeSelectLevelItem:[function(e,t,o){"use strict";cc._RF.push(t,"2424eY9iCtK2bTYqdim3g1o","HomeSelectLevelItem");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text=null,t.coin=null,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},i([l(cc.Label)],t.prototype,"text",void 0),i([l(cc.Node)],t.prototype,"coin",void 0),i([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],HomeSelectLevel:[function(e,t,o){"use strict";cc._RF.push(t,"8eba9ljs89P7ZEvBvlxhGOT","HomeSelectLevel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c},c=this&&this.__generator||function(e,t){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return l([e,t])}}function l(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(a){i=[6,a],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../common/CAction"),l=e("../../common/CAudio"),s=e("../../components/PrefabPoolNode"),u=e("../../global/GlobalGame"),p=e("./HomeUI"),f=cc._decorator,h=f.ccclass,d=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=null,t}return r(t,e),t.prototype.onLoad=function(){var e=cc.view.getVisibleSize().width,t=Math.floor((e-50)/110);this.list.content.width=110*t},t.prototype.start=function(){this.generateLevel()},t.prototype.generateLevel=function(){var e=this,t=new cc.Component.EventHandler;t.target=this.node,t.component="HomeSelectLevel",t.handler="onPlayGame",cc.resources.load("/prefab/item/SelectLevelItem",cc.Prefab,function(o){o&&cc.error(o);var n=e.generatorNode(t);cc.tween(e.node).call(function(){n.next().done&&cc.tween().stop()}).delay(.01).union().repeatForever().start()})},t.prototype.generatorNode=function(e){var t,o;return c(this,function(n){switch(n.label){case 0:t=0,n.label=1;case 1:return t<p.default.MAX_LEVEL?(o=s.default.getPrefabPool("level").getNode(),this.list.content.addChild(o),o.getChildByName("text").getComponent(cc.Label).string=String(t+1),o.getComponent(cc.Button).clickEvents.push(e),[4,o]):[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}})},t.prototype.onPlayGame=function(e){l.default.playKeyTone();var t=e.target.getChildByName("text").getComponent(cc.Label).string;u.default.setCurrentLevel(parseInt(t)),a.default.onScene("game")},i([d(cc.ScrollView)],t.prototype,"list",void 0),i([h],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../common/CAction":"CAction","../../common/CAudio":"CAudio","../../components/PrefabPoolNode":"PrefabPoolNode","../../global/GlobalGame":"GlobalGame","./HomeUI":"HomeUI"}],HomeUI:[function(e,t,o){"use strict";cc._RF.push(t,"1c4f0ms/R1J4LyFFbG6ztHF","HomeUI");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../common/CAction"),a=e("../../common/CAudio"),l=e("../../components/PrefabPoolNode"),s=cc._decorator,u=s.ccclass,p=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.prototype.onLoad=function(){cc.resources.load("/prefab/item/SelectLevelItem",cc.Prefab,function(e,t){l.default.instance("level",t,o.MAX_LEVEL),c.default.initLayer("SelectLevel")}),c.default.initLayer("Menu")},t.prototype.start=function(){},t.prototype.onOptionSimple=function(){a.default.playKeyTone(),c.default.onOpenLayer("SelectLevel")},t.prototype.onMenu=function(){a.default.playKeyTone(),c.default.onOpenLayer("Menu")},t.MAX_LEVEL=10,o=i([u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../common/CAction":"CAction","../../common/CAudio":"CAudio","../../components/PrefabPoolNode":"PrefabPoolNode"}],IMaze:[function(e,t){"use strict";cc._RF.push(t,"5fda545jLlKkI4IPPJ0q7DY","IMaze"),cc._RF.pop()},{}],MazeDFS:[function(e,t,o){"use strict";cc._RF.push(t,"4d52ejYZ5hJP652KL9NCO8Y","MazeDFS"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.maze=[],this.size=null,this.enter=null,this.exit=null,this.current=null,this.moveCurrentPos=null}return e.prototype.getSize=function(){return this.size},e.prototype.init=function(e){this.size=e;for(var t=2*e.height-1,o=2*e.width-1,n=0;n<t;n++){this.maze[n]=[];for(var r=0;r<o;r++){var i={x:r,y:n,wall:!(r%2==0&&n%2==0),visit:!1};this.maze[n][r]=i}}return this.setRandomEnter(),this},e.prototype.setRandomEnter=function(){var e=Math.floor(Math.random()*this.size.width),t=Math.floor(Math.random()*this.size.height);this.enter={x:e,y:t},this.current=this.enter},e.prototype.setEnterAndExit=function(e,t){return void 0===e&&(e={x:0,y:0}),void 0===t&&(t={x:this.size.width-1,y:this.size.height-1}),this.enter=e,this.exit=t,this.current=this.enter,this},e.prototype.getEnterAndExitPoint=function(){return{enter:this.maze[2*this.enter.y][2*this.enter.x],exit:this.maze[2*this.exit.y][2*this.exit.x]}},e.prototype.generateMaze=function(){for(var e=0,t=[{x:this.current.x,y:this.current.y}];t.length>0;){e<t.length&&(this.exit=t[t.length-1],e=t.length),this.maze[this.current.y][this.current.x].visit=!0;var o=this.dirRandomPoint(this.maze[this.current.y][this.current.x]);o?(e<t.length&&(this.exit=t[t.length-1],e=t.length),this.digWall(o),this.current=o,t.push(o)):this.current=t.pop()}return this},e.prototype.getMaze=function(){return this.maze},e.prototype.getMoveCurrentPos=function(){return null==this.moveCurrentPos&&(this.moveCurrentPos={x:2*this.enter.x,y:2*this.enter.y}),this.moveCurrentPos},e.prototype.getDirMove=function(e){return{up:!!this.maze[e.y-1]&&this.maze[e.y-1][e.x]&&!this.maze[e.y-1][e.x].wall,down:!!this.maze[e.y+1]&&this.maze[e.y+1][e.x]&&!this.maze[e.y+1][e.x].wall,left:this.maze[e.y][e.x-1]&&!this.maze[e.y][e.x-1].wall,right:this.maze[e.y][e.x+1]&&!this.maze[e.y][e.x+1].wall}},e.prototype.getMoveStepData=function(e,t){var o=[],n={start:null,end:null,xStep:null,yStep:null},r=this.maze[e.y][e.x],i=r,c=i,a=Object.assign({},r);switch(t){case"up":a.y--;break;case"down":a.y++;break;case"left":a.x--;break;case"right":a.x++}if(!this.maze[a.y]||!this.maze[a.y][a.x]||this.maze[a.y][a.x].wall)return o;for(var l=!1;;){var s={up:this.maze[r.y-1]?this.maze[r.y-1][r.x]:void 0,down:this.maze[r.y+1]?this.maze[r.y+1][r.x]:void 0,left:this.maze[r.y][r.x-1],right:this.maze[r.y][r.x+1]},u=0,p=null;if(l){for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){var h=s[f];if(h==i)continue;h&&!h.wall&&(p=h,u++)}}else u++,p=this.maze[a.y][a.x],l=!0;if(1!=u){n.end=r;var d=n.end.x-n.start.x,y=n.end.y-n.start.y;d<0&&(n.xStep*=-1),y<0&&(n.yStep*=-1),o.push(n),this.moveCurrentPos=n.end,cc.log(n.end,"end");break}c=i,i=r,r=p,n.start||(n.start=i,i.x==p.x?n.yStep=0:n.xStep=0);var v=!0;"number"==typeof n.xStep?i.y!=p.y?v=!1:n.xStep++:i.x!=p.x?v=!1:n.yStep++,v||(n.end=i,d=n.end.x-n.start.x,y=n.end.y-n.start.y,d<0&&(n.xStep*=-1),y<0&&(n.yStep*=-1),o.push(n),r=i,i=c,n={start:null,end:null,xStep:null,yStep:null})}return o},e.prototype.getMoveData=function(e){for(var t=[],o=this.maze[e.y][e.x],n=o,r=0;;){if(++r>300){cc.log("[[[[[[[[[[[[[test>300]]]]]]]]]]]]]");break}var i={up:this.maze[o.y-1]?this.maze[o.y-1][o.x]:void 0,down:this.maze[o.y+1]?this.maze[o.y+1][o.x]:void 0,left:this.maze[o.y][o.x-1],right:this.maze[o.y][o.x+1]},c=0,a=null;for(var l in i)if(Object.prototype.hasOwnProperty.call(i,l)){var s=i[l];if(s==n)continue;s&&!s.wall&&(a=s,c++)}if(1!=c)break;n=o,o=a,t.push(a)}},e.prototype.digWall=function(e){var t=e.x-this.current.x,o=e.y-this.current.y;0==t?this.maze[2*this.current.y+o][2*this.current.x].wall=!1:this.maze[2*this.current.y][2*this.current.x+t].wall=!1},e.prototype.dirRandomPoint=function(e){for(var t={x:this.size.width,y:this.size.height},o=[],n=0,r=["x","y"];n<r.length;n++)for(var i=r[n],c=0,a=[-1,1];c<a.length;c++){var l=a[c],s=Object.assign({},e);e[i]+l>=0&&e[i]+l<t[i]&&(s[i]+=l,this.maze[s.y][s.x].visit||o.push(s))}return!(o.length<=0)&&o[Math.floor(Math.random()*o.length)]},e}();o.default=n,cc._RF.pop()},{}],PrefabPoolNode:[function(e,t,o){"use strict";cc._RF.push(t,"4c0e041K1RJa7O/fzCkMlDN","PrefabPoolNode"),Object.defineProperty(o,"__esModule",{value:!0}),o.getPrefabPool=void 0;var n=[];o.getPrefabPool=function(e){return n[e]};var r=function(){function e(e){this.nodes=[],this.nodePool=new cc.NodePool,this.num=e}return e.getPrefabPool=function(e){return n[e]},e.instance=function(e,t,o){var r=n[e];return r?r.init(t):(n[e]=new this(o),n[e].init(t))},e.prototype.init=function(e){if(this.getSize()>0||this.getUseNodes().length>0)return this;this.prefab=e;for(var t=0;t<this.num;t++)this.nodePool.put(cc.instantiate(this.prefab));return this},e.prototype.getUseNodes=function(){return this.nodes},e.prototype.getNodePool=function(){return this.nodePool},e.prototype.getSize=function(){return this.nodePool.size()},e.prototype.getNode=function(){var e;return e=this.nodePool.size()>0?this.nodePool.get():cc.instantiate(this.prefab),this.nodes.findIndex(function(t){return t===e})<0&&this.nodes.push(e),e},e.prototype.removeToPlayer=function(e){var t=this.nodes.findIndex(function(t){return t===e});t>=0&&this.nodes.splice(t,1),this.nodePool.put(e)},e.prototype.removeToPlayerAll=function(){var e=this;this.nodes.forEach(function(t){e.nodePool.put(t)}),this.nodes=[]},e.prototype.clear=function(){this.nodePool.clear()},e}();o.default=r,cc._RF.pop()},{}],Utils:[function(e,t,o){"use strict";cc._RF.push(t,"2127bgU6PdJ35gFtzyM4hcW","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.getNumberToZero=o.getSecondToMinute=void 0,o.getSecondToMinute=function(e,t){void 0===t&&(t=!1);var o=Math.floor(e/60),n=e%60,r=n<10?"0"+n.toString():n.toString(),i=o.toString();return t&&(i=o<10?"0"+o.toString():o.toString()),i+":"+r},o.getNumberToZero=function(e,t){return void 0===t&&(t=1),e<10?"0".repeat(t)+e.toString():e.toString()},cc._RF.pop()},{}]},{},["CAction","CActionLayerBase","CAudio","CLoading","Common","PrefabPoolNode","Utils","IMaze","MazeDFS","GlobalGame","GlobalLayers","GameLevelComplete","GameMap","GameUI","HomeSelectLevel","HomeSelectLevelItem","HomeUI"]);