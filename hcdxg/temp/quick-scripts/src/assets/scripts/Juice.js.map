{"version":3,"sources":["assets\\scripts\\Juice.js"],"names":["RandomInteger","e","t","Math","floor","random","cc","Class","Component","properties","particle","type","SpriteFrame","circle","slash","init","data","showJuice","pos","width","i","node","Node","sp","addComponent","Sprite","spriteFrame","parent","a","l","v2","sin","PI","cos","scale","p","position","runAction","sequence","spawn","moveBy","scaleTo","rotateBy","fadeOut","callFunc","active","f","angle"],"mappings":";;;;;;AAAA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAAUC,CAAV,EAAaC,CAAb,EAAgB;AAClC,SAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBH,CAAC,GAAGD,CAArB,IAA0BA,CAArC,CAAP;AACH,CAFD,EAGA;AACA;AACA;;;AACAK,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,QAAQ,EAAE;AACN,iBAAS,IADH;AAENC,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFH,KADF;AAKRC,IAAAA,MAAM,EAAE;AACJ,iBAAS,IADL;AAEJF,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFL,KALA;AASRE,IAAAA,KAAK,EAAE;AACH,iBAAS,IADN;AAEHH,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFN;AATC,GAHP;AAkBLG,EAAAA,IAlBK,gBAkBAC,IAlBA,EAkBM;AACP,SAAKN,QAAL,GAAgBM,IAAI,CAACN,QAArB;AACA,SAAKG,MAAL,GAAcG,IAAI,CAACN,QAAnB;AACA,SAAKI,KAAL,GAAaE,IAAI,CAACF,KAAlB;AACH,GAtBI;AAwBL;AACAG,EAAAA,SAzBK,qBAyBKC,GAzBL,EAyBUC,KAzBV,EAyBiB;AAAA;;AAAA,+BAETC,CAFS;AAGd,UAAMC,IAAI,GAAG,IAAIf,EAAE,CAACgB,IAAP,CAAY,QAAZ,CAAb;AACA,UAAMC,EAAE,GAAGF,IAAI,CAACG,YAAL,CAAkBlB,EAAE,CAACmB,MAArB,CAAX;AAEAF,MAAAA,EAAE,CAACG,WAAH,GAAiB,KAAI,CAAChB,QAAtB;AACAW,MAAAA,IAAI,CAACM,MAAL,GAAc,KAAI,CAACN,IAAnB;AAEA,UAAMO,CAAC,GAAG,MAAMzB,IAAI,CAACE,MAAL,EAAhB;AAAA,UACIe,CAAC,GAAG,KAAKjB,IAAI,CAACE,MAAL,EAAL,GAAqBc,KAAK,GAAG,CADrC;AAAA,UAEIU,CAAC,GAAGvB,EAAE,CAACwB,EAAH,CAAM3B,IAAI,CAAC4B,GAAL,CAASH,CAAC,GAAGzB,IAAI,CAAC6B,EAAT,GAAc,GAAvB,IAA8BZ,CAApC,EAAuCjB,IAAI,CAAC8B,GAAL,CAASL,CAAC,GAAGzB,IAAI,CAAC6B,EAAT,GAAc,GAAvB,IAA8BZ,CAArE,CAFR;AAGAC,MAAAA,IAAI,CAACa,KAAL,GAAa,KAAK/B,IAAI,CAACE,MAAL,EAAL,GAAqBc,KAAK,GAAG,GAA1C;AACA,UAAMgB,CAAC,GAAG,KAAKhC,IAAI,CAACE,MAAL,EAAf;AAEAgB,MAAAA,IAAI,CAACe,QAAL,GAAgBlB,GAAhB;AACAG,MAAAA,IAAI,CAACgB,SAAL,CACI/B,EAAE,CAACgC,QAAH,CAAYhC,EAAE,CAACiC,KAAH,CAASjC,EAAE,CAACkC,MAAH,CAAUL,CAAV,EAAaN,CAAb,CAAT,EACRvB,EAAE,CAACmC,OAAH,CAAWN,CAAC,GAAG,EAAf,EAAmB,EAAnB,CADQ,EAER7B,EAAE,CAACoC,QAAH,CAAYP,CAAC,GAAG,EAAhB,EAAoBnC,aAAa,CAAC,CAAC,GAAF,EAAO,GAAP,CAAjC,CAFQ,CAAZ,EAGIM,EAAE,CAACqC,OAAH,CAAW,EAAX,CAHJ,EAIIrC,EAAE,CAACsC,QAAH,CAAY,YAAY;AACpBvB,QAAAA,IAAI,CAACwB,MAAL,GAAc,KAAd;AACH,OAFD,EAEG,KAFH,CAJJ,CADJ;AAhBc;;AAClB;AACA,SAAK,IAAIzB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;AAAA,YAApBA,CAAoB;AAuB5B,KAzBiB,CA2BlB;;;AA3BkB,iCA4BT0B,CA5BS;AA6Bd,UAAMzB,IAAI,GAAG,IAAIf,EAAE,CAACgB,IAAP,CAAY,QAAZ,CAAb;AACA,UAAMC,EAAE,GAAGF,IAAI,CAACG,YAAL,CAAkBlB,EAAE,CAACmB,MAArB,CAAX;AAEAF,MAAAA,EAAE,CAACG,WAAH,GAAiB,KAAI,CAACb,MAAtB;AACAQ,MAAAA,IAAI,CAACM,MAAL,GAAc,KAAI,CAACN,IAAnB;AAEA,UAAIO,CAAC,GAAG,MAAMzB,IAAI,CAACE,MAAL,EAAd;AAAA,UAA6Be,CAAC,GAAG,KAAKjB,IAAI,CAACE,MAAL,EAAL,GAAqBc,KAAK,GAAG,CAA9D;AAAA,UACIU,CAAC,GAAGvB,EAAE,CAACwB,EAAH,CAAM3B,IAAI,CAAC4B,GAAL,CAASH,CAAC,GAAGzB,IAAI,CAAC6B,EAAT,GAAc,GAAvB,IAA8BZ,CAApC,EAAuCjB,IAAI,CAAC8B,GAAL,CAASL,CAAC,GAAGzB,IAAI,CAAC6B,EAAT,GAAc,GAAvB,IAA8BZ,CAArE,CADR;AAEAC,MAAAA,IAAI,CAACa,KAAL,GAAa,KAAK/B,IAAI,CAACE,MAAL,EAAL,GAAqBc,KAAK,GAAG,GAA1C;AACA,UAAIgB,CAAC,GAAG,KAAKhC,IAAI,CAACE,MAAL,EAAb;AACAgB,MAAAA,IAAI,CAACe,QAAL,GAAgBlB,GAAhB;AACAG,MAAAA,IAAI,CAACgB,SAAL,CAAe/B,EAAE,CAACgC,QAAH,CAAYhC,EAAE,CAACiC,KAAH,CAASjC,EAAE,CAACkC,MAAH,CAAUL,CAAV,EAAaN,CAAb,CAAT,EAA0BvB,EAAE,CAACmC,OAAH,CAAWN,CAAC,GAAG,EAAf,EAAmB,EAAnB,CAA1B,CAAZ,EAA+D7B,EAAE,CAACqC,OAAH,CAAW,EAAX,CAA/D,EAA+ErC,EAAE,CAACsC,QAAH,CAAY,YAAY;AAClHvB,QAAAA,IAAI,CAACwB,MAAL,GAAc,KAAd;AACH,OAF6F,EAE3F,KAF2F,CAA/E,CAAf;AAxCc;;AA4BlB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAAA,aAApBA,CAAoB;AAe5B,KA3CiB,CA6ClB;;;AACA,QAAMzB,IAAI,GAAG,IAAIf,EAAE,CAACgB,IAAP,CAAY,QAAZ,CAAb;AACA,QAAMC,EAAE,GAAGF,IAAI,CAACG,YAAL,CAAkBlB,EAAE,CAACmB,MAArB,CAAX;AAEAF,IAAAA,EAAE,CAACG,WAAH,GAAiB,KAAKZ,KAAtB;AACAO,IAAAA,IAAI,CAACM,MAAL,GAAc,KAAKN,IAAnB;AAEAA,IAAAA,IAAI,CAACe,QAAL,GAAgBlB,GAAhB;AACAG,IAAAA,IAAI,CAACa,KAAL,GAAa,CAAb;AACAb,IAAAA,IAAI,CAAC0B,KAAL,GAAa/C,aAAa,CAAC,CAAD,EAAI,GAAJ,CAA1B;AACAqB,IAAAA,IAAI,CAACgB,SAAL,CAAe/B,EAAE,CAACgC,QAAH,CAAYhC,EAAE,CAACiC,KAAH,CAASjC,EAAE,CAACmC,OAAH,CAAW,EAAX,EAAetB,KAAK,GAAG,GAAvB,CAAT,EAAsCb,EAAE,CAACqC,OAAH,CAAW,CAAX,CAAtC,CAAZ,EAAkErC,EAAE,CAACsC,QAAH,CAAY,YAAY;AACrGvB,MAAAA,IAAI,CAACwB,MAAL,GAAc,KAAd;AACH,KAFgF,CAAlE,CAAf;AAGH;AAnFI,CAAT","sourceRoot":"/","sourcesContent":["const RandomInteger = function (e, t) {\n    return Math.floor(Math.random() * (t - e) + e)\n}\n//特-价9.9元--一套-cocoscreator代-码-联-系-Q-2483367084 \n//所有游戏列表 链接：https://pan.baidu.com/s/1lJBgutpFHZJGNaarRQF-Cg \n//提取码：1111\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        particle: {\n            default: null,\n            type: cc.SpriteFrame\n        },\n        circle: {\n            default: null,\n            type: cc.SpriteFrame\n        },\n        slash: {\n            default: null,\n            type: cc.SpriteFrame\n        }\n    },\n\n    init(data) {\n        this.particle = data.particle\n        this.circle = data.particle\n        this.slash = data.slash\n    },\n\n    // 合并时的动画效果\n    showJuice(pos, width) {\n        // 果粒\n        for (let i = 0; i < 10; ++i) {\n            const node = new cc.Node('Sprite');\n            const sp = node.addComponent(cc.Sprite);\n\n            sp.spriteFrame = this.particle;\n            node.parent = this.node;\n\n            const a = 359 * Math.random(),\n                i = 30 * Math.random() + width / 2,\n                l = cc.v2(Math.sin(a * Math.PI / 180) * i, Math.cos(a * Math.PI / 180) * i);\n            node.scale = .5 * Math.random() + width / 100;\n            const p = .5 * Math.random();\n\n            node.position = pos;\n            node.runAction(\n                cc.sequence(cc.spawn(cc.moveBy(p, l),\n                    cc.scaleTo(p + .5, .3),\n                    cc.rotateBy(p + .5, RandomInteger(-360, 360))),\n                    cc.fadeOut(.1),\n                    cc.callFunc(function () {\n                        node.active = false\n                    }, this))\n            )\n        }\n\n        // 水珠\n        for (let f = 0; f < 20; f++) {\n            const node = new cc.Node('Sprite');\n            const sp = node.addComponent(cc.Sprite);\n\n            sp.spriteFrame = this.circle;\n            node.parent = this.node;\n\n            let a = 359 * Math.random(), i = 30 * Math.random() + width / 2,\n                l = cc.v2(Math.sin(a * Math.PI / 180) * i, Math.cos(a * Math.PI / 180) * i);\n            node.scale = .5 * Math.random() + width / 100;\n            let p = .5 * Math.random();\n            node.position = pos\n            node.runAction(cc.sequence(cc.spawn(cc.moveBy(p, l), cc.scaleTo(p + .5, .3)), cc.fadeOut(.1), cc.callFunc(function () {\n                node.active = false\n            }, this)))\n        }\n\n        // 果汁\n        const node = new cc.Node('Sprite');\n        const sp = node.addComponent(cc.Sprite);\n\n        sp.spriteFrame = this.slash;\n        node.parent = this.node;\n\n        node.position = pos\n        node.scale = 0\n        node.angle = RandomInteger(0, 360)\n        node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2, width / 150), cc.fadeOut(1)), cc.callFunc(function () {\n            node.active = false\n        })))\n    },\n});\n"]}