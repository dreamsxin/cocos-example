{"version":3,"sources":["dici.js"],"names":["tmpPlayer","require","cc","Class","extends","Component","properties","dieAudio","default","url","AudioClip","setInputControl","self","listener","event","EventListener","TOUCH_ONE_BY_ONE","onTouchBegan","thouches","evnet","goAction","moveBy","p","node","runAction","eventManager","addListener","onLoad","noteBox","getBoundingBoxToWorld","update","dt","player","find","getComponent","rectIntersectsRect","audioEngine","playEffect","director","loadScene","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,YAAYC,QAAQ,QAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAU;AACNC,qBAAS,IADH;AAENC,iBAAKP,GAAGQ;AAFF;AADF,KAHP;;AAUL;;AAEAC,qBAAiB,2BAAW;AACxB,YAAIC,OAAO,IAAX;AACA,YAAIC,WAAW;AACXC,mBAAOZ,GAAGa,aAAH,CAAiBC,gBADb;AAEXC,0BAAc,sBAASC,QAAT,EAAmBC,KAAnB,EAA0B;AACpC,oBAAIC,WAAWlB,GAAGmB,MAAH,CAAU,GAAV,EAAenB,GAAGoB,CAAH,CAAK,CAAL,EAAQ,GAAR,CAAf,CAAf;AACAV,qBAAKW,IAAL,CAAUC,SAAV,CAAoBJ,QAApB;AACA,uBAAO,IAAP;AACH;AANU,SAAf;AAQAlB,WAAGuB,YAAH,CAAgBC,WAAhB,CAA4Bb,QAA5B,EAAsCD,KAAKW,IAA3C;AACH,KAvBI;;AAyBLI,YAAQ,kBAAW;AACf,aAAKhB,eAAL;AACH,KA3BI;AA4BLiB,aAAS,mBAAW;AAChB,eAAO,KAAKL,IAAL,CAAUM,qBAAV,EAAP;AACH,KA9BI;AA+BLC,YAAQ,gBAASC,EAAT,EAAa;AACjB,YAAIC,SAAS9B,GAAG+B,IAAH,CAAQ,eAAR,EAAyBC,YAAzB,CAAsClC,SAAtC,CAAb;;AAEA,YAAIE,GAAGiC,kBAAH,CAAsBH,OAAOT,IAAP,CAAYM,qBAAZ,EAAtB,EAA2D,KAAKD,OAAL,EAA3D,CAAJ,EAAgF;;AAE5E1B,eAAGkC,WAAH,CAAeC,UAAf,CAA0B,KAAK9B,QAA/B,EAAyC,KAAzC;AACAL,eAAGoC,QAAH,CAAYC,SAAZ,CAAsB,eAAtB;AACH;AAEJ,KAxCI;AAyCLC,SAzCK,mBAyCG,CAEP;AA3CI;;AA6CL;AA7CJ","file":"dici.js","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\nvar tmpPlayer = require(\"player\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        dieAudio: {\n            default: null,\n            url: cc.AudioClip\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    setInputControl: function() {\n        var self = this;\n        var listener = {\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\n            onTouchBegan: function(thouches, evnet) {\n                var goAction = cc.moveBy(0.2, cc.p(0, 140));\n                self.node.runAction(goAction);\n                return true;\n            },\n        }\n        cc.eventManager.addListener(listener, self.node);\n    },\n\n    onLoad: function() {\n        this.setInputControl();\n    },\n    noteBox: function() {\n        return this.node.getBoundingBoxToWorld();\n    },\n    update: function(dt) {\n        var player = cc.find(\"Canvas/normal\").getComponent(tmpPlayer);\n\n        if (cc.rectIntersectsRect(player.node.getBoundingBoxToWorld(), this.noteBox())) {\n\n            cc.audioEngine.playEffect(this.dieAudio, false);\n            cc.director.loadScene('gameoverScene');\n        }\n\n    },\n    start() {\n\n    },\n\n    // update (dt) {},\n});"]}