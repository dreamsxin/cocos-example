# Message types

## Server to client message types

| type          | payload                                                        | message creator                                                                   | description                                        |
| ------------- | -------------------------------------------------------------- | --------------------------------------------------------------------------------- | -------------------------------------------------- |
| `WELCOME`     | `{}`                                                           | `Messages.getWelcome()`                                                           | Greeting sent automatically when a player connects |
| `SUCCESS`     | `{action: <messageType>, ...data}`                             | `Messages.getSuccess(messageType: string, data: object)`                          | An action succeeded                                |
| `FAILURE`     | `{action: <messageType>, ...data}`                             | `Messages.getFailure(messageType: string, data: object)`                          | An action failed                                   |
| `ROOM_UPDATE` | See room update defails below                                  | N/A                                                                               | Updated room state                                 |
| `BROADCAST`   | `{username: <username>, message: <message>, roomId: <roomId>}` | `Messages.getBroadcastMessage(username: string, message: string, roomId: string)` | Broadcast chat message to everyone in the room     |

### Client to server message types

| type           | payload                                                                              | message creator                                                                                                                                                                        | description                                    |
| -------------- | ------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------- |
| `LOGIN`        | `{username: <username>}`                                                             | `Messages.getLogin(username: string)`                                                                                                                                                  | Login with username                            |
| `CREATE_ROOM`  | `{roomName: <roomName>, gameType: optional<gameType>, roomType: optional<roomType>}` | `Messages.getCreateRoom(roomName: string)` `Messages.getCreateRoom(roomName: string, gameType: string)` `Messages.getCreateRoom(roomName: string, gameType: string, roomType: string)` | Create a room                                  |
| `JOIN`         | `{roomId: <roomId>}`                                                                 | `Messages.getJoin(roomId: string)`                                                                                                                                                     | Join a room                                    |
| `LEAVE`        | `{}`                                                                                 | `Messages.getLeave()`                                                                                                                                                                  | Leave the current room                         |
| `EXIT`         | `{}`                                                                                 | `Messages.getExit()`                                                                                                                                                                   | Exit and disconnect server                     |
| `GAME_START`   | `{}`                                                                                 | `Messages.getGameStart()`                                                                                                                                                              | Request to start a game                        |
| `CHAT`         | `{message: <message>}`                                                               | Messages.getChat(message: string)                                                                                                                                                      | Send a chat message to everyone in the room    |
| `MESSAGE`      | `any`                                                                                | `Messages.getMessage(message: any)`                                                                                                                                                    | An in-game command. More on game communication |
| `ROOM_MESSAGE` | `any`                                                                                | `Messages.getRoomMessage(message: any)`                                                                                                                                                | An room command. More on extending rooms       |
